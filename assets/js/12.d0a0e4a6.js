(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{154:function(e,t,n){"use strict";const{getScope:r}=n(295),o=new Set(n(296)),s=n(175),i=n(207),{traverseNodes:a,getFallbackKeys:l}=i.AST,{findVariable:p}=n(246);let c=null;function u(e,...t){return new Proxy({},{get(n,r){for(const e of t)if(r in e)return e[r];return e[r]},has:(t,n)=>n in e,ownKeys:t=>Reflect.ownKeys(e),getPrototypeOf:t=>Reflect.getPrototypeOf(e)})}function d(e,t,r){const o=e.getSourceCode(),i=r.applyDocument?o.parserServices.getDocumentFragment&&o.parserServices.getDocumentFragment():o.ast.templateBody;let p=null;const c=u(o,{get tokensAndComments(){return p||(p=i?t.getTokens(i,{includeComments:!0}):[],p)},getNodeByRangeIndex:function(e){if(!i)return o.ast;let t=o.ast;const n=[];let r=!1;return a(i,{enterNode(o,s){r||(n[0]!==s&&o.range[0]<=e&&e<o.range[1]?t=o:n.unshift(o))},leaveNode(e){r||(t===e?r=!0:n[0]===e&&n.shift())}}),t}},t),d=new WeakMap;function m(t){const r=function(e){let t=e;for(;t&&"VExpressionContainer"!==t.type;)t=t.parent;return t}(t);if(!r)return null;const i=d.get(r);if(i)return i;const a=o.ast,p=e.parserOptions||{},c=p.ecmaFeatures||{},m=p.ecmaVersion||2020,f=a.sourceType;try{const e=function(e){const t=n(244);return(t.createRequire||t.createRequireFromPath||function(e){const n=new t(e);return n.filename=e,n.paths=t._nodeModulePaths(s.dirname(e)),n._compile("module.exports = require;",e),n.exports})(e)}(247)("eslint-scope"),t=u(r,{type:"ExpressionStatement"}),o=u(a,{body:[t]}),i=e.analyze(o,{ignoreEval:!0,nodejsScope:!1,impliedStrict:c.impliedStrict,ecmaVersion:m,sourceType:f,fallback:l});return d.set(r,i),i}catch(e){}return null}return u(e,{getSourceCode:()=>c,get sourceCode(){return c},getDeclaredVariables(t){const n=m(t);return n?n.getDeclaredVariables(t):e.getDeclaredVariables(t)}})}function m(e){return null!=e}function f(e,t,n,r){const o=e.getSourceCode();if(null==o.parserServices.defineTemplateBodyVisitor){const t=e.getFilename();return".mpx"===s.extname(t)&&e.report({loc:{line:1,column:0},message:"Use the latest mpx-eslint-parser. See also https://github.com/mpx-ecology/mpx-eslint-parser."}),{}}return o.parserServices.defineTemplateBodyVisitor(t,n,r)}function g(e,...t){for(const n of t)for(const t in n)if(e[t]){const r=e[t];e[t]=(...e)=>{r(...e),n[t](...e)}}else e[t]=n[t];return e}function y(e){return"Property"===e.type}function x(e){return"Property"===e.type}function h(e){return"VElement"===e.type}function b(e){return e&&"TSAsExpression"===e.type?b(e.expression):e}function k(e){return e&&"ChainExpression"===e.type?k(e.expression):e}function v(e){if("Property"===e.type||"MethodDefinition"===e.type){const t=e.key;return e.computed||"Identifier"!==t.type?T(t):t.name}if("MemberExpression"===e.type){const t=e.property;return e.computed?T(t):"Identifier"===t.type?t.name:null}return null}function T(e,t){return"Literal"===e.type?null==e.value?t||null==e.bigint?null:e.bigint:"string"==typeof e.value?e.value:t?null:String(e.value):"TemplateLiteral"===e.type&&0===e.expressions.length&&1===e.quasis.length?e.quasis[0].value.cooked:null}function w(e){return e.endsWith(".mpx")}function E(e,t,n){return Boolean(S(e,t,n))}function S(e,t,n){return e.startTag.attributes.find(e=>A(e,t,n))||null}function A(e,t,n){return!e.directive&&I(t,e.key.name)&&(void 0===n||null!=e.value&&I(n,e.value.value))}function I(e,t){return"[object RegExp]"===Object.prototype.toString.call(e)?e.test(t):e===t}function C(e){return e.arguments.length>0&&"ObjectExpression"===b(e.arguments.slice(-1)[0]).type}function F(e){if("ObjectExpression"!==e.type)return null;const t=function(e){let t=e.parent;for(;"TSAsExpression"===t.type;)t=t.parent;return t}(e);if("CallExpression"===t.type&&b(t.arguments.slice(-1)[0])===e){const e=t.callee;if("MemberExpression"===e.type){const n=b(e.object);if("Identifier"===n.type){const r=v(e),o=r&&C(t);if("mpx"===n.name&&o){if("createApp"===r)return r;if("createComponent"===r)return r;if("createPage"===r)return r}}}if("Identifier"===e.type&&C(t)){if("createApp"===e.name)return"createApp";if("createComponent"===e.name)return"createComponent";if("createPage"===e.name)return"createPage"}}return null}function P(e){return"ObjectExpression"===e.type?e.properties.map(e=>{if(!y(e))return{type:"unknown",key:null,propName:null,value:null,node:e};const t=v(e);return null!=t?{type:"object",key:e.key,propName:t,value:b(e.value),node:e}:{type:"object",key:null,propName:null,value:b(e.value),node:e}}):e.elements.filter(m).map(e=>{if("Literal"===e.type||"TemplateLiteral"===e.type){const t=T(e);if(null!=t)return{type:"array",key:e,propName:t,value:null,node:e}}return{type:"array",key:null,propName:null,value:null,node:e}})}e.exports={defineTemplateBodyVisitor:f,wrapCoreRule(e,t){const r=function(e){const t=n(247);try{return(c||(c=(new t.Linter).getRules())).get(e)||null}catch{}const{builtinRules:r}=n(746);return r.get(e)||null}(e);if(!r)return{meta:{type:"problem",docs:{url:`https://mpx-ecology.github.io/eslint-plugin-mpx/rules/${e}.html`}},create:t=>f(t,{"VElement[name='template'][parent.type='VDocumentFragment']"(n){t.report({node:n,message:`Failed to extend ESLint core rule "${e}". You may be able to use this rule by upgrading the version of ESLint. If you cannot upgrade it, turn off this rule.`})}})};let o=r.meta.docs.description;o&&(o+=" in `<template>`");const{categories:i,skipDynamicArguments:l,skipDynamicArgumentsReport:p,applyDocument:m,preprocess:y,create:x}=t||{};return{create(e){const t=e.getSourceCode(),n=t.parserServices.getTemplateBodyTokenStore&&t.parserServices.getTemplateBodyTokenStore();n&&(e=d(e,n,{applyDocument:m})),p&&(e=function(e){const t=e.getSourceCode(),n=t.ast.templateBody;if(!n)return e;const r=[];return a(n,{enterNode(e,t){t&&"VDirectiveKey"===t.type&&"VExpressionContainer"===e.type&&r.push(e.range)},leaveNode(){}}),{__proto__:e,report(n,...o){let s=null;if(n.loc){const e=n.loc.start||n.loc,r=n.loc.end||e;s=[t.getIndexFromLoc(e),t.getIndexFromLoc(r)]}else n.node&&(s=n.node.range);if(s)for(const e of r)if(s[0]<e[1]&&e[0]<s[1])return;e.report(n,...o)}}}(e));const o={};y&&y(e,{wrapContextToOverrideProperties:t=>e=u(e,t),defineVisitor(e){g(o,e)}});const s=r.create(e);if(g(o,s),o.Program&&(o[m?"VDocumentFragment":"VElement[parent.type!='VElement']"]=o.Program,delete o.Program),o["Program:exit"]&&(o[m?"VDocumentFragment:exit":"VElement[parent.type!='VElement']:exit"]=o["Program:exit"],delete o["Program:exit"]),l){let e=!1;for(const t of Object.keys(o)){const n=o[t];o[t]=(...t)=>{e||n(...t)}}o["VDirectiveKey > VExpressionContainer"]=()=>{e=!0},o["VDirectiveKey > VExpressionContainer:exit"]=()=>{e=!1}}return x&&g(o,x(e,{coreHandlers:s})),f(e,o)},meta:Object.assign({},r.meta,{docs:Object.assign({},r.meta.docs,{description:o,category:null,categories:i,url:`https://mpx-ecology.github.io/eslint-plugin-mpx/rules/${s.basename(r.meta.docs.url||"")}.html`,extensionRule:!0,coreRuleUrl:r.meta.docs.url})})}},isDef:m,prevSibling(e){let t=null;for(const n of e.parent&&e.parent.children||[]){if(n===e)return t;"VElement"===n.type&&(t=n)}return null},hasAttribute:E,hasDirective(e,t,n){return Boolean(this.getDirective(e,t,n))},isEmptyValueDirective(e,t){if(null==e.value)return!1;if(null!=e.value.expression)return!1;let n=t.getSourceCode().getText(e.value);return'"'!==n[0]&&"'"!==n[0]||n[0]!==n[n.length-1]||(n=n.slice(1,-1)),!n||"{{}}"===n},isEmptyExpressionValueDirective(e,t){if(null==e.value)return!1;if(null!=e.value.expression)return!1;const n=e.value,r=t.getSourceCode().parserServices.getTemplateBodyTokenStore();let o=null,s=null;for(const t of r.getTokens(e))if(!(t.range[1]<=n.range[0])){if(n.range[1]<=t.range[0])return!0;if(o||"Punctuator"!==t.type||'"'!==t.value&&"'"!==t.value){if(s||!o||"Punctuator"!==t.type||t.value!==o.value)return!1;s=t}else o=t}return!0},getAttribute:S,getAttributeAll:function(e,t,n){return e.startTag.attributes.filter(e=>A(e,t,n))},getDirectives:(e,t)=>("VElement"===e.type?e.startTag.attributes:e.attributes).filter(e=>e.directive&&e.key.name.name===t),getDirective:(e,t,n)=>e.startTag.attributes.find(e=>e.directive&&e.key.name.name===t&&(void 0===n||(e.key.argument&&"VIdentifier"===e.key.argument.type&&e.key.argument.name)===n))||null,getRegisteredComponents(e){const t=e.properties.find(e=>"Property"===e.type&&"components"===v(e)&&"ObjectExpression"===e.value.type);return t?t.value.properties.filter(y).map(e=>{const t=v(e);return t?{node:e,name:t}:null}).filter(m):[]},prevElementHasIf(e){const t=this.prevSibling(e);return null!=t&&t.startTag.attributes.some(e=>e.directive&&("if"===e.key.name.name||"elif"===e.key.name.name))},isCustomComponent(e){return!this.isMpElementName(e.rawName)||"component"===e.rawName&&this.hasAttribute(e,"is")},isMpElementName:e=>o.has(e),getStaticPropertyName:v,getStringLiteralValue:T,getComponentPropsFromOptions:function(e){const t=e.properties.find(e=>"Property"===e.type&&"properties"===v(e));if(!t)return[];if("ObjectExpression"!==t.value.type&&"ArrayExpression"!==t.value.type)return[{type:"unknown",key:null,propName:null,value:null,node:t.value}];return P(t.value)},getComponentPropsFromDefine:P,getComputedProperties(e){const t=e.properties.find(e=>"Property"===e.type&&"Identifier"===e.key.type&&"computed"===e.key.name&&"ObjectExpression"===e.value.type);return t?t.value.properties.filter(y).map(e=>{const t=v(e),n=b(e.value);let r=null;if("FunctionExpression"===n.type)r=n.body;else if("ObjectExpression"===n.type){const e=n.properties.find(e=>"Property"===e.type&&"Identifier"===e.key.type&&"get"===e.key.name&&"FunctionExpression"===e.value.type);r=e?e.value.body:null}return{key:t,value:r}}):[]},isMpxFile:w,isScriptSetup:function(e){return Boolean(function(e){const t=e.getSourceCode(),n=t.parserServices.getDocumentFragment&&t.parserServices.getDocumentFragment();if(!n)return null;const r=n.children.filter(h).filter(e=>"script"===e.name);if(2===r.length)return r.find(e=>E(e,"setup"))||null;{const e=r[0];if(e&&E(e,"setup"))return e}return null}(e))},executeOnMpx(e,t){return w(e.getFilename())?g(this.excuteOnMpxCreateApp(e,t),this.excuteOnMpxCreatePage(e,t),this.excuteOnMpxCreateComponent(e,t)):{}},excuteOnMpxCreateApp:(e,t)=>({"ObjectExpression:exit"(e){const n=F(e);n&&"createApp"===n&&t(e,n)}}),excuteOnMpxCreateComponent:(e,t)=>({"ObjectExpression:exit"(e){const n=F(e);n&&"createComponent"===n&&t(e,n)}}),excuteOnMpxCreatePage:(e,t)=>({"ObjectExpression:exit"(e){const n=F(e);n&&"createPage"===n&&t(e,n)}}),defineMpxVisitor(e,t){let n=null;function r(e,r){t[e]&&n&&t[e](r,n)}const o={};for(const e in t)o[e]=t=>r(e,t);return o.ObjectExpression=e=>{const t=F(e);t&&(n={node:e,type:t,parent:n,get functional(){const t=e.properties.find(e=>"Property"===e.type&&"functional"===v(e));return!!t&&("Literal"!==t.value.type||!1!==t.value.value)}},r("onMpxObjectEnter",e)),r("ObjectExpression",e)},o["ObjectExpression:exit"]=e=>{r("ObjectExpression:exit",e),n&&n.node===e&&(r("onMpxObjectExit",e),n=n.parent)},(t.onSetupFunctionEnter||t.onRenderFunctionEnter)&&(o["Property[value.type=/^(Arrow)?FunctionExpression$/] > :function"]=e=>{const t=e.parent;if(n&&t.parent===n.node&&t.value===e){const n=v(t);"setup"===n?r("onSetupFunctionEnter",e):"render"===n&&r("onRenderFunctionEnter",e)}r("Property[value.type=/^(Arrow)?FunctionExpression$/] > :function",e)}),o},getMpxObjectType:F,compositingVisitors:g,*iterateProperties(e,t){for(const n of e.properties){if("Property"!==n.type)continue;const e=v(n);e&&t.has(e)&&("ArrayExpression"===n.value.type?yield*this.iterateArrayExpression(n.value,e):"ObjectExpression"===n.value.type?yield*this.iterateObjectExpression(n.value,e):"FunctionExpression"===n.value.type?yield*this.iterateFunctionExpression(n.value,e):"ArrowFunctionExpression"===n.value.type&&(yield*this.iterateArrowFunctionExpression(n.value,e)))}},*iterateArrayExpression(e,t){for(const n of e.elements)if(n&&("Literal"===n.type||"TemplateLiteral"===n.type)){const e=T(n);e&&(yield{type:"array",name:e,groupName:t,node:n})}},*iterateObjectExpression(e,t){let n;for(const r of e.properties)if("Property"===r.type){const o=r.key;if("Identifier"===o.type||"Literal"===o.type||"TemplateLiteral"===o.type){const s=v(r);if(s){if("set"===r.kind&&e.properties.some(e=>{if("Property"===e.type&&"get"===e.kind){if(n||(n=new Set),n.has(e))return!1;if(v(e)===s)return n.add(e),!0}return!1}))continue;yield{type:"object",name:s,groupName:t,node:o,property:r}}}}},*iterateFunctionExpression(e,t){if("BlockStatement"===e.body.type)for(const n of e.body.body)"ReturnStatement"===n.type&&n.argument&&"ObjectExpression"===n.argument.type&&(yield*this.iterateObjectExpression(n.argument,t))},*iterateArrowFunctionExpression(e,t){const n=e.body;if("BlockStatement"===n.type)for(const e of n.body)"ReturnStatement"===e.type&&e.argument&&"ObjectExpression"===e.argument.type&&(yield*this.iterateObjectExpression(e.argument,t));else"ObjectExpression"===n.type&&(yield*this.iterateObjectExpression(n,t))},executeOnFunctionsWithoutReturn(e,t){let n=null;function r(){return!n||!n.currentSegments.some(e=>e.reachable)&&(!e||n.hasReturnValue)}return{onCodePathStart(e,t){"ArrowFunctionExpression"!==t.type&&"FunctionExpression"!==t.type&&"FunctionDeclaration"!==t.type||(n={codePath:e,currentSegments:[],funcInfo:n,hasReturn:!1,hasReturnValue:!1,node:t})},onCodePathSegmentStart(e){n&&n.currentSegments.push(e)},onCodePathSegmentEnd(){n&&n.currentSegments.pop()},onCodePathEnd(){n=n&&n.funcInfo},ReturnStatement(e){n&&(n.hasReturn=!0,n.hasReturnValue=Boolean(e.argument))},"ArrowFunctionExpression:exit"(e){!n||r()||e.expression||t(n.node)},"FunctionExpression:exit"(){n&&!r()&&t(n.node)}}},isSingleLine:e=>e.loc.start.line===e.loc.end.line,hasInvalidEOF(e){const t=e.templateBody;return null!=t&&null!=t.errors&&t.errors.some(e=>"string"==typeof e.code&&e.code.startsWith("eof-"))},getMemberChaining(e){const t=[];let n=k(e);for(;"MemberExpression"===n.type;)t.push(n),n=k(n.object);return[n,...t.reverse()]},editDistance(e,t){if(e===t)return 0;const n=e.length,r=t.length,o=Array.from({length:n+1}).map(e=>Array.from({length:r+1}).fill(0));for(let e=0;e<=n;e++)o[e][0]=e;for(let e=0;e<=r;e++)o[0][e]=e;for(let s=1;s<=n;s++)for(let n=1;n<=r;n++)o[s][n]=e[s-1]===t[n-1]?o[s-1][n-1]:Math.min(o[s-1][n],o[s][n-1],o[s-1][n-1])+1;return o[n][r]},isProperty:y,isAssignmentProperty:x,isVElement:h,findProperty:function(e,t,n){const r=n?e=>y(e)&&v(e)===t&&n(e):e=>y(e)&&v(e)===t;return e.properties.find(r)||null},findAssignmentProperty:function(e,t,n){const r=n?e=>x(e)&&v(e)===t&&n(e):e=>x(e)&&v(e)===t;return e.properties.find(r)||null},isPropertyChain:function(e,t){let n=t;for(;"TSAsExpression"===n.parent.type;)n=n.parent;return e===n.parent&&e.value===n},skipTSAsExpression:b,skipDefaultParamValue:function e(t){if(!t)return t;if("AssignmentPattern"===t.type)return e(t.left);return t},skipChainExpression:k,getScope:r,isThis(e,t){if("ThisExpression"===e.type)return!0;if("Identifier"!==e.type)return!1;const n=e.parent;if("MemberExpression"===n.type){if(n.property===e)return!1}else if("Property"===n.type&&n.key===e&&!n.computed)return!1;const o=p(r(t,e),e);if(null!=o&&1===o.defs.length){const e=o.defs[0];if("Variable"===e.type&&"const"===e.parent.kind&&"Identifier"===e.node.id.type)return Boolean(e.node&&e.node.init&&"ThisExpression"===e.node.init.type)}return!1},findMutating(e){const t=[];let n=e,r=n.parent;for(;;){if("AssignmentExpression"===r.type){if(r.left===n)return{kind:"assignment",node:r,pathNodes:t}}else{if("UpdateExpression"===r.type)return{kind:"update",node:r,pathNodes:t};if("CallExpression"===r.type){if(t.length>0&&r.callee===n){const e=v(t[t.length-1]);if(e&&/^push|pop|shift|unshift|reverse|splice|sort|copyWithin|fill$/u.test(e))return t.pop(),{kind:"call",node:r,pathNodes:t}}}else if("MemberExpression"===r.type){if(r.object===n){t.push(r),n=r,r=r.parent;continue}}else if("ChainExpression"===r.type){n=r,r=r.parent;continue}}return null}},createCompositionApiTraceMap:e=>({vue:e,"@vue/composition-api":e}),equalTokens(e,t,n){const r=n.getTokens(e),o=n.getTokens(t);if(r.length!==o.length)return!1;for(const[e,t]of r.entries())if(t.type!==o[e].type||t.value!==o[e].value)return!1;return!0}}},223:function(e,t,n){e.exports={parser:207,parserOptions:{ecmaVersion:2020,sourceType:"module"},env:{node:!0,browser:!0,es6:!0},globals:{wx:"readonly",my:"readonly",swan:"readonly",qq:"readonly",tt:"readonly",jd:"readonly",qa:"readonly",dd:"readonly",getCurrentPages:"readonly",getRegExp:"readonly",getApp:"readonly",App:"readonly",Page:"readonly",Component:"readonly",Behavior:"readonly",requirePlugin:"readonly",requireMiniProgram:"readonly",__mpx_mode__:"readonly",__mpx_env__:"readonly"},plugins:["mpx"],rules:{"mpx/comment-directive":"error"}}},224:function(e,t,n){e.exports=[{name:"mpx/base",plugins:{get mpx(){return n(233)}},files:["*.mpx","**/*.mpx"],languageOptions:{parser:n(207),sourceType:"module",globals:{wx:"readonly",my:"readonly",swan:"readonly",qq:"readonly",tt:"readonly",jd:"readonly",qa:"readonly",dd:"readonly",getCurrentPages:"readonly",getRegExp:"readonly",getApp:"readonly",App:"readonly",Page:"readonly",Component:"readonly",Behavior:"readonly",requirePlugin:"readonly",requireMiniProgram:"readonly",__mpx_mode__:"readonly",__mpx_env__:"readonly"}},processor:"mpx/mpx"}]},233:function(e,t,n){"use strict";e.exports={meta:n(292),rules:{"comment-directive":n(294),"component-tags-order":n(747),"html-end-tags":n(748),"no-arrow-functions-in-watch":n(749),"no-async-in-computed-properties":n(750),"no-dupe-keys":n(751),"no-dupe-wx-elif":n(752),"no-duplicate-attributes":n(753),"no-parsing-error":n(754),"no-reserved-keys":n(755),"no-side-effects-in-computed-properties":n(757),"return-in-computed-property":n(758),"valid-wx-elif":n(759),"valid-wx-else":n(760),"valid-wx-if":n(761),"valid-wx-model":n(762),"script-setup-uses-vars":n(763),eqeqeq:n(764),"script-indent":n(765),"valid-swiper-item-style":n(768),"valid-wx-key":n(769),"valid-attribute-value":n(770),"valid-template-quote":n(771),"valid-component-range":n(772),"valid-setup-define-expose":n(773),"valid-initdata":n(774),"no-deprecated-lifecycle":n(775),"no-deprecated-mpx-createfunction":n(776),"no-deprecated-watch-second-param":n(777),"valid-properties":n(778)},configs:{base:n(223),"mpx-essential":n(779),"composition-api-essential":n(780),"flat/base":n(224),"flat/mpx-essential":n(781),"flat/composition-api-essential":n(782)},processors:{".mpx":n(277),mpx:n(277)}}},244:function(e,t){e.exports={createRequire:()=>()=>null}},247:function(e,t,n){const{Linter:r}=n(352);e.exports={Linter:r}},277:function(e,t,n){"use strict";function r(e,t,n){let r=e.get(t);r?r.push(n):(r=[n],e.set(t,r))}function o(e,t){return e.line-t.line||e.column-t.column}e.exports={preprocess:e=>[e],postprocess(e){const t={block:{disableAllKeys:new Set,disableRuleKeys:new Map},line:{disableAllKeys:new Set,disableRuleKeys:new Map}},n=[],s=new Map,i=e[0].filter(e=>{if("mpx/comment-directive"===e.ruleId){const n=e.messageId,o=e.message.split(" ");switch(n){case"disableBlock":t.block.disableAllKeys.add(o[1]);break;case"disableLine":t.line.disableAllKeys.add(o[1]);break;case"enableBlock":t.block.disableAllKeys.clear();break;case"enableLine":t.line.disableAllKeys.clear();break;case"disableBlockRule":r(t.block.disableRuleKeys,o[1],o[2]);break;case"disableLineRule":r(t.line.disableRuleKeys,o[1],o[2]);break;case"enableBlockRule":t.block.disableRuleKeys.delete(o[1]);break;case"enableLineRule":t.line.disableRuleKeys.delete(o[1]);break;case"clear":t.block.disableAllKeys.clear(),t.block.disableRuleKeys.clear(),t.line.disableAllKeys.clear(),t.line.disableRuleKeys.clear();break;default:s.set(function(e){return`line:${e.line},column${e.column-1}`}(e),e)}return!1}{const r=[];if(t.block.disableAllKeys.size>0&&r.push(...t.block.disableAllKeys),t.line.disableAllKeys.size>0&&r.push(...t.line.disableAllKeys),e.ruleId){const n=t.block.disableRuleKeys.get(e.ruleId);n&&r.push(...n);const o=t.line.disableRuleKeys.get(e.ruleId);o&&r.push(...o)}return!(r.length>0)||(n.push(...r),!1)}});if(s.size>0){for(const e of n)s.delete(e);i.push(...s.values()),i.sort(o)}return i},supportsAutofix:!0}},278:function(e,t,n){},292:function(e,t,n){"use strict";const{name:r,version:o}=n(293);e.exports={name:r,version:o}},293:function(e){e.exports=JSON.parse('{"name":"eslint-plugin-mpx","version":"0.2.23","description":"Official ESLint plugin for Mpx.js","main":"lib/index.js","types":"lib/index.d.ts","scripts":{"start":"npm run test:base -- --watch --growl","test":"mocha \\"tests/lib/**/*.js\\" --reporter dot","test:only":"mocha \\"tests/lib/rules/valid-setup-define-expose.js\\" --reporter dot","debug":"mocha --inspect \\"tests/lib/**/*.js\\" --reporter dot --timeout 60000","cover":"npm run cover:test && npm run cover:report","cover:test":"nyc npm run test -- --timeout 60000","cover:report":"nyc report --reporter=html","lint":"eslint .","lint:fix":"eslint . --fix","pretsc":"node ./tools/setup-eslint-rule-types.js","tsc":"tsc","preversion":"npm test && git add .","version":"npm run lint -- --fix && git add .","update":"node ./tools/update.js","docs:watch":"vuepress dev docs","docs:build":"vuepress build docs"},"files":["lib"],"keywords":["eslint","eslint-plugin","eslint-config","mpx","mpxjs","rules"],"author":"pagnkelly (https://github.com/pagnkelly)","license":"MIT","repository":{"type":"git","url":"git+https://github.com/mpx-ecology/eslint-plugin-mpx.git"},"bugs":{"url":"https://github.com/mpx-ecology/eslint-plugin-mpx/issues"},"engines":{"node":"^18.18.0 || ^20.9.0 || >=21.1.0"},"peerDependencies":{"eslint":"^8.57.0 || ^9.0.0"},"dependencies":{"eslint-utils":"^2.1.0","mpx-eslint-parser":"^0.0.14","natural-compare":"^1.4.0","semver":"^7.3.2"},"devDependencies":{"@types/eslint":"^8.4.2","@types/eslint-visitor-keys":"^1.0.0","@types/natural-compare":"^1.4.0","@types/node":"^13.13.5","@types/semver":"^7.2.0","@typescript-eslint/parser":"^5.28.0","@vuepress/plugin-pwa":"^1.4.1","babel-eslint":"^10.1.0","eslint":"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-eslint-plugin":"^6.4.0","eslint-plugin-import":"^2.31.0","eslint-plugin-jsonc":"^2.19.1","eslint-plugin-mpx":"file:.","eslint-plugin-node":"^11.1.0","eslint-plugin-node-dependencies":"^0.12.0","eslint-plugin-prettier":"^5.2.3","eslint-plugin-unicorn":"^56.0.1","espree":"^9.3.2","lodash":"^4.17.15","mocha":"^10.8.2","nyc":"^15.0.1","prettier":"^3.5.3","typescript":"^4.7.3","vue-eslint-editor":"^1.1.0","vuepress":"^1.9.7"},"homepage":"https://github.com/mpx-ecology/eslint-plugin-mpx#readme","directories":{"doc":"docs","lib":"lib","test":"tests"}}')},294:function(e,t,n){"use strict";const r=n(154),o=/^\s*(eslint-(?:en|dis)able)(?:\s+|$)/,s=/^\s*(eslint-disable(?:-next)?-line)(?:\s+|$)/;function i(e,t){const n=t.split(/\s-{2,}\s/u)[0];const r=e.exec(n);if(null==r)return null;const o=r[1],s=[],i=/([^,\s]+)[,\s]*/g;let a,l=r[0].length;for(i.lastIndex=l;a=i.exec(n);){const e=a[1].trim();s.push({ruleId:e,index:l}),l=i.lastIndex}return{type:o,rules:s}}function a(e,t,n,r){r?e.report({loc:t,messageId:"block"===n?"enableBlockRule":"enableLineRule",data:{rule:r}}):e.report({loc:t,messageId:"block"===n?"enableBlock":"enableLine"})}function l(e,t,n,r,o){r?e.report({loc:t,messageId:"block"===n?"disableBlockRule":"disableLineRule",data:{rule:r,key:o}}):e.report({loc:t,messageId:"block"===n?"disableBlock":"disableLine",data:{key:o}})}function p(e,t,n){const r=i(o,t.value);if(null!=r)if("eslint-disable"===r.type)if(r.rules.length>0){const o=n?d(e,t,r.type,r.rules):r.rules;for(const n of o)l(e,t.loc.start,"block",n.ruleId,n.key||"*")}else{const o=n?u(e,t,r.type):"";l(e,t.loc.start,"block",null,o)}else if(r.rules.length>0)for(const n of r.rules)a(e,t.loc.start,"block",n.ruleId);else a(e,t.loc.start,"block",null)}function c(e,t,n){const r=i(s,t.value);if(null!=r&&t.loc.start.line===t.loc.end.line){const o=t.loc.start.line+("eslint-disable-line"===r.type?0:1),s=-1;if(r.rules.length>0){const i=n?d(e,t,r.type,r.rules):r.rules;for(const t of i)l(e,{line:o,column:s},"line",t.ruleId,t.key||""),a(e,{line:o+1,column:s},"line",t.ruleId)}else{l(e,{line:o,column:s},"line",null,n?u(e,t,r.type):""),a(e,{line:o+1,column:s},"line",null)}}}function u(e,t,n){const r=t.loc;return e.report({loc:r,messageId:"unused",data:{kind:n}}),m(r.start)}function d(e,t,n,r){const o=e.getSourceCode(),s=t.range[0]+4;return r.map(t=>{const r=o.getLocFromIndex(s+t.index),i=o.getLocFromIndex(s+t.index+t.ruleId.length);return e.report({loc:{start:r,end:i},messageId:"unusedRule",data:{rule:t.ruleId,kind:n}}),{ruleId:t.ruleId,key:m(r)}})}function m(e){return`line:${e.line},column${e.column}`}function f(e){return e.children.filter(r.isVElement)}e.exports={meta:{type:"problem",docs:{description:"require support comment-directives in `<template>`",categories:["base"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/comment-directive.html"},schema:[{type:"object",properties:{reportUnusedDisableDirectives:{type:"boolean"}},additionalProperties:!1}],messages:{disableBlock:"--block {{key}}",enableBlock:"++block",disableLine:"--line {{key}}",enableLine:"++line",disableBlockRule:"-block {{rule}} {{key}}",enableBlockRule:"+block {{rule}}",disableLineRule:"-line {{rule}} {{key}}",enableLineRule:"+line {{rule}}",clear:"clear",unused:"Unused {{kind}} directive (no problems were reported).",unusedRule:"Unused {{kind}} directive (no problems were reported from '{{rule}}')."}},create(e){const t=e.options[0]||{},n=e.getSourceCode(),r=t.reportUnusedDisableDirectives,o=n.parserServices.getDocumentFragment&&n.parserServices.getDocumentFragment();return{Program(t){if(t.templateBody){for(const n of t.templateBody.comments)p(e,n,r),c(e,n,r);e.report({loc:t.templateBody.loc.end,messageId:"clear"})}if(o){for(const t of function(e){const t=f(e);return e.comments.filter(e=>t.every(t=>e.range[1]<=t.range[0]||t.range[1]<=e.range[0]))}(o))p(e,t,r),c(e,t,r);for(const t of f(o))e.report({loc:t.loc.end,messageId:"clear"})}}}}}},295:function(e,t){e.exports={getScope:function(e,t){const n="Program"!==t.type,r=e.getSourceCode().scopeManager;let o=t;for(;o;o=o.parent){const e=r.acquire(o,n);if(e)return"function-expression-name"===e.type?e.childScopes[0]:e}return r.scopes[0]}}},296:function(e){e.exports=JSON.parse('["cover-image","cover-view","match-media","movable-area","movable-view","page-container","scroll-view","share-element","swiper","swiper-item","view","icon","progress","rich-text","text","button","checkbox","checkbox-group","editor","form","input","keyboard-accessory","label","picker","picker-view","picker-view-column","radio","radio-group","slider","switch","textarea","functional-page-navigator","navigator","audio","camera","image","live-player","live-pusher","video","voip-room","map","canvas","ad","ad-custom","official-account","open-data","web-view","native-component","aria-componen","navigation-bar","page-meta","import","include","template","wxs"]')},351:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=351},729:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=729},746:function(e,t,n){"use strict";n.r(t),t.default={}},747:function(e,t,n){"use strict";const r=n(154),o=Object.freeze([["script","template"],"style"]);e.exports={meta:{type:"suggestion",docs:{description:"enforce order of component top-level elements",categories:["recommended"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/component-tags-order.html"},fixable:null,schema:[{type:"object",properties:{order:{type:"array",items:{anyOf:[{type:"string"},{type:"array",items:{type:"string"},uniqueItems:!0}]},uniqueItems:!0,additionalItems:!1}}}],messages:{unexpected:"The <{{name}}> should be above the <{{firstUnorderedName}}> on line {{line}}."}},create(e){const t=new Map,n=e.options[0]&&e.options[0].order||o;for(const[e,r]of n.entries())if(Array.isArray(r))for(const n of r)t.set(n,e);else t.set(r,e);function s(e){const n=t.get(e);return null==n?-1:n}const i=e.getSourceCode(),a=i.parserServices.getDocumentFragment&&i.parserServices.getDocumentFragment();function l(t,n){e.report({node:t,loc:t.loc,messageId:"unexpected",data:{name:t.name,firstUnorderedName:n.name,line:n.loc.start.line}})}return{Program(e){if(r.hasInvalidEOF(e))return;const t=a?a.children.filter(r.isVElement):[];for(const[e,n]of t.entries()){const r=s(n.name);if(r<0)continue;const o=t.slice(0,e).filter(e=>r<s(e.name)).sort((e,t)=>s(e.name)-s(t.name))[0];o&&l(n,o)}}}}}},748:function(e,t,n){"use strict";const r=n(154);e.exports={meta:{type:"suggestion",docs:{description:"enforce end tag style",categories:["mpx-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/html-end-tags.html"},fixable:"code",schema:[],messages:{endTag:"'<{{name}}>' should have end tag."}},create(e){let t=!1;return r.defineTemplateBodyVisitor(e,{VElement(n){if(t)return;const r=n.name,o=n.startTag.selfClosing;null!=n.endTag||o||e.report({node:n.startTag,loc:n.startTag.loc,messageId:"endTag",data:{name:r},fix:e=>e.insertTextAfter(n,`</${r}>`)})}},{Program(e){t=r.hasInvalidEOF(e)}})}}},749:function(e,t,n){"use strict";const r=n(154);e.exports={meta:{type:"problem",docs:{description:"disallow using arrow functions to define watcher",categories:["mpx-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/no-arrow-functions-in-watch.html"},fixable:null,schema:[],messages:{watcher:"You should not use an arrow function to define a watcher."}},create:e=>r.executeOnMpx(e,t=>{const n=r.findProperty(t,"watch");if(null==n)return;const o=n.value;if("ObjectExpression"===o.type)for(const t of o.properties)"Property"===t.type&&"ArrowFunctionExpression"===t.value.type&&e.report({node:t,messageId:"watcher"})})}},750:function(e,t,n){"use strict";const r=n(154),o=new Set(["then","catch","finally"]),s=new Set(["all","race","reject","resolve"]),i=new Set(["setTimeout","setInterval","setImmediate","requestAnimationFrame"]);e.exports={meta:{type:"problem",docs:{description:"disallow asynchronous actions in computed properties",categories:["mpx-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/no-async-in-computed-properties.html"},fixable:null,schema:[],messages:{computed:'Unexpected {{expressionName}} in "{{propertyName}}" computed property.'}},create(e){const t=new Map;let n=null;const a={promise:"asynchronous action",await:"await operator",async:"async function declaration",new:"Promise object",timed:"timed function"};function l(t,n,r,o=[]){for(const s of o)s.value&&t.loc.start.line>=s.value.loc.start.line&&t.loc.end.line<=s.value.loc.end.line&&n===s.value&&e.report({node:t,messageId:"computed",data:{expressionName:a[r],propertyName:s.key||"unknown"}})}return r.defineMpxVisitor(e,{onMpxObjectEnter(e){t.set(e,r.getComputedProperties(e))},":function":function(e,{node:r}){e.async&&l(e,e.body,"async",t.get(r)),n={upper:n,body:e.body}},":function:exit":function(){n=n&&n.upper},NewExpression(e,{node:r}){n&&"Identifier"===e.callee.type&&"Promise"===e.callee.name&&l(e,n.body,"new",t.get(r))},CallExpression(e,{node:a}){n&&(!function(e){const t=r.skipChainExpression(e.callee);return"CallExpression"===e.type&&"MemberExpression"===t.type&&("Identifier"===t.property.type&&o.has(t.property.name)||"Identifier"===t.object.type&&"Promise"===t.object.name&&"Identifier"===t.property.type&&s.has(t.property.name))}(e)?function(e){const t=r.skipChainExpression(e.callee);return("CallExpression"===e.type&&"Identifier"===t.type&&i.has(t.name)||"CallExpression"===e.type&&"MemberExpression"===t.type&&"Identifier"===t.object.type&&"window"===t.object.name&&"Identifier"===t.property.type&&i.has(t.property.name))&&e.arguments.length>0}(e)&&l(e,n.body,"timed",t.get(a)):l(e,n.body,"promise",t.get(a)))},AwaitExpression(e,{node:r}){n&&l(e,n.body,"await",t.get(r))}})}}},751:function(e,t,n){"use strict";const r=n(154),o=["properties","computed","data","methods","setup"];e.exports={meta:{type:"problem",docs:{description:"disallow duplication of field names",categories:["mpx-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/no-dupe-keys.html"},fixable:null,schema:[{type:"object",properties:{groups:{type:"array"}},additionalProperties:!1}],messages:{name:"Duplicated key '{{name}}'."}},create(e){const t=e.options[0]||{},n=new Set([...o,...t.groups||[]]);return r.executeOnMpx(e,t=>{const o=[],s=r.iterateProperties(t,n);for(const t of s)o.includes(t.name)&&e.report({node:t.node,messageId:"name",data:{name:t.name}}),o.push(t.name)})}}},752:function(e,t,n){"use strict";const r=n(154);function o(e,t){return"LogicalExpression"===t.type&&t.operator===e?[...o(e,t.left),...o(e,t.right)]:[t]}function s(e){return o("&&",e)}function i(e){return{node:e,operands:function(e){return o("||",e)}(e).map(e=>({node:e,operands:s(e)}))}}e.exports={meta:{type:"problem",docs:{description:"disallow duplicate conditions in `wx:if` / `wx:elif` chains",categories:["mpx-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/no-dupe-wx-elif.html"},fixable:null,schema:[],messages:{unexpected:"This branch can never execute. Its condition is a duplicate or covered by previous conditions in the `wx:if` / `wx:elif` chain."}},create(e){const t=e.getSourceCode(),n=t.parserServices.getTemplateBodyTokenStore&&t.parserServices.getTemplateBodyTokenStore();function o(e,t){return e.operands.every(e=>t.operands.some(t=>function e(t,o){return t.type===o.type&&("LogicalExpression"!==t.type||"LogicalExpression"!==o.type||"||"!==t.operator&&"&&"!==t.operator||t.operator!==o.operator?r.equalTokens(t,o,n):e(t.left,o.left)&&e(t.right,o.right)||e(t.left,o.right)&&e(t.right,o.left))}(e,t)))}return r.defineTemplateBodyVisitor(e,{"VAttribute[directive=true][key.name.name='elif']"(n){const a=t.getText(n).slice(-3);if(!n.value||!n.value.expression||!['}}"',"}}'"].includes(a))return;const l=n.value.expression,p=("LogicalExpression"===l.type&&"&&"===l.operator?[...s(l),l]:[l]).map(i);let c=n.parent.parent;for(;c&&(c=r.prevSibling(c));){const t=r.getDirective(c,"if"),n=t||r.getDirective(c,"elif");if(!n)return;if(n.value&&n.value.expression){const t=i(n.value.expression);for(const n of p){if(0===(n.operands=n.operands.filter(e=>!t.operands.some(t=>o(t,e)))).length)return void e.report({node:n.node,messageId:"unexpected"})}}if(t)return}}})}}},753:function(e,t,n){"use strict";const r=n(154);e.exports={meta:{type:"problem",docs:{description:"disallow duplication of attributes",categories:["mpx-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/no-duplicate-attributes.html"},fixable:null,schema:[{type:"object",properties:{allowCoexistClass:{type:"boolean"},allowCoexistStyle:{type:"boolean"}}}],messages:{name:"Duplicate attribute '{{name}}'."}},create(e){const t=new Set,n=new Set;return r.defineTemplateBodyVisitor(e,{VStartTag(){t.clear(),n.clear()},VAttribute(r){const o=(s=r).directive?s.key.name.name.startsWith("bind")&&(s.key.argument&&"VIdentifier"===s.key.argument.type&&s.key.name.name+s.key.argument.name||s.key.name.name)||null:s.key.name;var s;null!=o&&(function(e){return t.has(e)||n.has(e)}(o)&&e.report({node:r,loc:r.loc,messageId:"name",data:{name:o}}),r.directive?t.add(o):n.add(o))}})}}},754:function(e,t,n){"use strict";const r=Object.freeze(Object.assign(Object.create(null),{"abrupt-closing-of-empty-comment":!0,"absence-of-digits-in-numeric-character-reference":!0,"cdata-in-html-content":!0,"character-reference-outside-unicode-range":!0,"control-character-in-input-stream":!0,"control-character-reference":!0,"eof-before-tag-name":!0,"eof-in-cdata":!0,"eof-in-comment":!0,"eof-in-tag":!0,"incorrectly-closed-comment":!0,"incorrectly-opened-comment":!0,"invalid-first-character-of-tag-name":!0,"missing-attribute-value":!0,"missing-end-tag-name":!0,"missing-semicolon-after-character-reference":!0,"missing-whitespace-between-attributes":!0,"nested-comment":!0,"noncharacter-character-reference":!0,"noncharacter-in-input-stream":!0,"null-character-reference":!0,"surrogate-character-reference":!0,"surrogate-in-input-stream":!0,"unexpected-character-in-attribute-name":!0,"unexpected-character-in-unquoted-attribute-value":!0,"unexpected-equals-sign-before-attribute-name":!0,"unexpected-null-character":!0,"unexpected-question-mark-instead-of-tag-name":!0,"unexpected-solidus-in-tag":!0,"unknown-named-character-reference":!0,"end-tag-with-attributes":!0,"duplicate-attribute":!0,"end-tag-with-trailing-solidus":!0,"non-void-html-element-start-tag-with-trailing-solidus":!1,"x-invalid-end-tag":!0,"x-invalid-namespace":!0}));e.exports={meta:{type:"problem",docs:{description:"disallow parsing errors in `<template>`",categories:["mpx-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/no-parsing-error.html"},fixable:null,schema:[{type:"object",properties:Object.keys(r).reduce((e,t)=>(e[t]={type:"boolean"},e),{}),additionalProperties:!1}],messages:{msg:"Parsing error: {{message}}."}},create(e){const t=Object.assign({},r,e.options[0]||{});return{Program(n){const r=n.templateBody;if(null!=r&&null!=r.errors)for(const n of r.errors)n.code&&!t[n.code]||e.report({node:r,loc:{line:n.lineNumber,column:n.column},messageId:"msg",data:{message:n.message.endsWith(".")?n.message.slice(0,-1):n.message}})}}}}},755:function(e,t,n){"use strict";const r=n(154),o=n(756),s=["properties","computed","data","methods","setup"];e.exports={meta:{type:"suggestion",docs:{description:"disallow overwriting reserved keys",categories:["mpx-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/no-reserved-keys.html"},fixable:null,schema:[{type:"object",properties:{reserved:{type:"array"},groups:{type:"array"}},additionalProperties:!1}],messages:{reserved:"Key '{{name}}' is reserved.",group:"Keys starting with with '_' are reserved in '{{name}}' group."}},create(e){const t=e.options[0]||{},n=new Set([...o,...t.reserved||[]]),i=new Set([...s,...t.groups||[]]);return r.executeOnMpx(e,t=>{const o=r.iterateProperties(t,i);for(const t of o)"data"===t.groupName&&"_"===t.name[0]?e.report({node:t.node,messageId:"group",data:{name:t.name}}):n.has(t.name)&&e.report({node:t.node,messageId:"reserved",data:{name:t.name}})})}}},756:function(e){e.exports=JSON.parse('["$data","$props","$el","$options","$parent","$root","$children","$slots","$scopedSlots","$refs","$isServer","$attrs","$listeners","$i18n","$hook","$xfetch","$watch","$set","$delete","$on","$once","$off","$emit","$mount","$forceUpdate","$nextTick","$destroy","$remove"]')},757:function(e,t,n){"use strict";const r=n(154);e.exports={meta:{type:"problem",docs:{description:"disallow side effects in computed properties",categories:["mpx-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/no-side-effects-in-computed-properties.html"},fixable:null,schema:[],messages:{property:'Unexpected side effect in "{{key}}" computed property.'}},create(e){const t=new Map;let n=null;return r.defineMpxVisitor(e,{onMpxObjectEnter(e){t.set(e,r.getComputedProperties(e))},":function":function(e){n={upper:n,body:e.body}},":function:exit":function(){n=n&&n.upper},"MemberExpression > :matches(Identifier, ThisExpression)"(o,{node:s}){if(!n)return;const i=n.body,a=t.get(s).find(e=>e.value&&o.loc.start.line>=e.value.loc.start.line&&o.loc.end.line<=e.value.loc.end.line&&i===e.value);if(!a)return;if(!r.isThis(o,e))return;const l=o.parent;if(l.object!==o)return;const p=r.findMutating(l);p&&e.report({node:p.node,messageId:"property",data:{key:a.key||"Unknown"}})}})}}},758:function(e,t,n){"use strict";const r=n(154);e.exports={meta:{type:"problem",docs:{description:"enforce that a return statement is present in computed property",categories:["mpx-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/return-in-computed-property.html"},fixable:null,schema:[{type:"object",properties:{treatUndefinedAsUnspecified:{type:"boolean"}},additionalProperties:!1}],messages:{returnValue:'Expected to return a value in "{{name}}" computed property.'}},create(e){const t=!(!1===(e.options[0]||{}).treatUndefinedAsUnspecified),n=new Set;return Object.assign({},r.defineMpxVisitor(e,{onMpxObjectEnter(e){for(const t of r.getComputedProperties(e))n.add(t)}}),r.executeOnFunctionsWithoutReturn(t,t=>{for(const r of n)r.value&&r.value.parent===t&&e.report({node:t,messageId:"returnValue",data:{name:r.key||"Unknown"}})}))}}},759:function(e,t,n){"use strict";const r=n(154);e.exports={meta:{type:"problem",docs:{description:"enforce valid `wx:elif` directives",categories:["mpx-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/valid-wx-elif.html"},fixable:null,schema:[],messages:{preceded:"'wx:elif' directives require being preceded by the element which has a 'wx:if' or 'wx:elif' directive.",existsame:"'wx:elif' and 'wx:if' directives can't exist on the same element.",elexsitsame:"'wx:elif' and 'wx:else' directives can't exist on the same element.",requirenoarg:"'wx:elif' directives require no argument.",requireattribute:"'wx:elif' directives require that attribute value.",requirenomodifier:"'wx:elif' directives require no modifier."}},create:e=>r.defineTemplateBodyVisitor(e,{"VAttribute[directive=true][key.name.name='elif']"(t){const n=t.parent.parent;r.prevElementHasIf(n)||e.report({node:t,loc:t.loc,messageId:"preceded"}),r.hasDirective(n,"if")&&e.report({node:t,loc:t.loc,messageId:"existsame"}),r.hasDirective(n,"else")&&e.report({node:t,loc:t.loc,messageId:"elexsitsame"}),t.key.argument&&e.report({node:t,loc:t.loc,messageId:"requirenoarg"}),t.key.modifiers.length>0&&e.report({node:t,loc:t.loc,messageId:"requirenomodifier"}),t.value&&!r.isEmptyValueDirective(t,e)||e.report({node:t,loc:t.loc,messageId:"requireattribute"})}})}},760:function(e,t,n){"use strict";const r=n(154);e.exports={meta:{type:"problem",docs:{description:"enforce valid `wx:else` directives",categories:["mpx-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/valid-wx-else.html"},fixable:null,schema:[],messages:{preceded:"'wx:else' directives require being preceded by the element which has a 'wx:if' or 'wx:elif' directive.",exist:"'wx:else' and 'wx:if' directives can't exist on the same element. You may want 'wx:elif' directives.",elexist:"'wx:else' and 'wx:elif' directives can't exist on the same element.",requirenoarg:"'wx:else' directives require no argument.",requirenomodifier:"'wx:else' directives require no modifier.",requirenoattr:"'wx:else' directives require no attribute value."}},create:e=>r.defineTemplateBodyVisitor(e,{"VAttribute[directive=true][key.name.name='else']"(t){const n=t.parent.parent;r.prevElementHasIf(n)||e.report({node:t,loc:t.loc,messageId:"preceded"}),r.hasDirective(n,"if")&&e.report({node:t,loc:t.loc,messageId:"exist"}),r.hasDirective(n,"elif")&&e.report({node:t,loc:t.loc,messageId:"elexist"}),t.key.argument&&e.report({node:t,loc:t.loc,messageId:"requirenoarg"}),t.key.modifiers.length>0&&e.report({node:t,loc:t.loc,messageId:"requirenomodifier"}),t.value&&e.report({node:t,loc:t.loc,messageId:"requirenoattr"})}})}},761:function(e,t,n){"use strict";const r=n(154);e.exports={meta:{type:"problem",docs:{description:"enforce valid `wx:if` directives",categories:["mpx-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/valid-wx-if.html"},fixable:null,schema:[],messages:{same:"'wx:if' and 'wx:else' directives can't exist on the same element. You may want 'wx:elif' directives.",elsame:"'wx:if' and 'wx:elif' directives can't exist on the same element.",dirnoarg:"'wx:if' directives require no argument.",nomodifier:"'wx:if' directives require no modifier.",attrvalue:"'wx:if' directives require that attribute value."}},create:e=>r.defineTemplateBodyVisitor(e,{"VAttribute[directive=true][key.name.name='if']"(t){const n=t.parent.parent;r.hasDirective(n,"else")&&e.report({node:t,loc:t.loc,messageId:"same"}),r.hasDirective(n,"elif")&&e.report({node:t,loc:t.loc,messageId:"elsame"}),t.key.argument&&e.report({node:t,loc:t.loc,messageId:"dirnoarg"}),t.key.modifiers.length>0&&e.report({node:t,loc:t.loc,messageId:"nomodifier"}),t.value&&!r.isEmptyValueDirective(t,e)||e.report({node:t,loc:t.loc,messageId:"attrvalue"})}})}},762:function(e,t,n){"use strict";const r=n(154);e.exports={meta:{type:"problem",docs:{description:"enforce valid `wx:model` directives",categories:["mpx-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/valid-wx-model.html"},fixable:null,schema:[],messages:{unexpectedInvalidElement:"'wx:model' directives aren't supported on <{{name}}> elements.",unexpectedArgument:"'wx:model' directives require no argument.",unexpectedModifier:"'wx:model' directives don't support the modifier '{{name}}', try use wx:model-filter.",missingValue:"'wx:model' directives require that attribute value."}},create:e=>r.defineTemplateBodyVisitor(e,{"VAttribute[directive=true][key.name.name='model']"(t){const n=t.parent.parent,o=n.name;if(function(e){const t=e.name;return"input"===t||"textarea"===t||r.isCustomComponent(e)}(n)||e.report({node:t,loc:t.loc,messageId:"unexpectedInvalidElement",data:{name:o}}),!r.isCustomComponent(n)){t.key.argument&&e.report({node:t,loc:t.loc,messageId:"unexpectedArgument"});for(const n of t.key.modifiers)e.report({node:t,loc:t.loc,messageId:"unexpectedModifier",data:{name:n.name}})}t.value&&!r.isEmptyValueDirective(t,e)||e.report({node:t,loc:t.loc,messageId:"missingValue"})}})}},763:function(e,t,n){"use strict";const r=n(154);e.exports={meta:{type:"problem",docs:{description:"prevent `<script setup>` variables used in `<template>` to be marked as unused",categories:void 0,url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/script-setup-uses-vars.html"},deprecated:!0,schema:[],messages:{}},create(e){if(!r.isScriptSetup(e))return{};const t=new Set,n=e.getSourceCode().scopeManager.globalScope;if(n){for(const e of n.variables)t.add(e.name);const e=n.childScopes.find(e=>"module"===e.type);for(const n of e&&e.variables||[])t.add(n.name)}return r.defineTemplateBodyVisitor(e,{VExpressionContainer(t){for(const n of t.references.filter(e=>null==e.variable))e.markVariableAsUsed(n.id.name)},"VAttribute[directive=false]"(t){if(t.value){let n=t.value.value;n=n.replace(/(\{\{)|\s|(\}\})/g,""),e.markVariableAsUsed(n)}}},{},{templateBodyTriggerSelector:"Program"})}}},764:function(e,t,n){"use strict";const{wrapCoreRule:r}=n(154);e.exports=r("eqeqeq",{applyDocument:!0})},765:function(e,t,n){"use strict";const r=n(766);e.exports={meta:{type:"layout",docs:{description:"enforce consistent indentation in `<script>`",categories:void 0,url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/script-indent.html"},fixable:"whitespace",schema:[{anyOf:[{type:"integer",minimum:1},{enum:["tab"]}]},{type:"object",properties:{baseIndent:{type:"integer",minimum:0},switchCase:{type:"integer",minimum:0},ignores:{type:"array",items:{allOf:[{type:"string"},{not:{type:"string",pattern:":exit$"}},{not:{type:"string",pattern:String.raw`^\s*$`}}]},uniqueItems:!0,additionalItems:!1}},additionalProperties:!1}],messages:{}},create:e=>r.defineVisitor(e,e.getSourceCode(),{})}},766:function(e,t,n){"use strict";const{isArrowToken:r,isOpeningParenToken:o,isClosingParenToken:s,isNotOpeningParenToken:i,isNotClosingParenToken:a,isOpeningBraceToken:l,isClosingBraceToken:p,isOpeningBracketToken:c,isClosingBracketToken:u,isSemicolonToken:d,isNotSemicolonToken:m}=n(246),{isComment:f,isNotComment:g,isWildcard:y,isExtendsKeyword:x,isNotWhitespace:h,isNotEmptyTextNode:b,isPipeOperator:k,last:v}=n(767),T=/[\n\r\u2028\u2029]/,w=/[^\n\r\u2028\u2029]+(?:$|\r\n|[\n\r\u2028\u2029])/g,E=/^\s*\*/,S=Object.freeze({includeComments:!0,filter:h}),A=new Set(["pre","textarea"]);function I(e,t,n){if(null!=e)for(let r=t-1;r>=0;--r){const t=n[r];if(null!=t)return e.loc.start.line!==t.loc.end.line}return!1}function C(e){return"Punctuator"===e.type&&"?."===e.value}e.exports.defineVisitor=function(e,t,n){if(!e.getFilename().endsWith(".mpx"))return{};const F=function(e,t,n){const r=Object.assign({indentChar:" ",indentSize:2,baseIndent:0,attribute:1,closeBracket:{startTag:0,endTag:0,selfClosingTag:0},switchCase:0,alignAttributesVertically:!0,ignores:[]},n);if(Number.isSafeInteger(e)?r.indentSize=Number(e):"tab"===e&&(r.indentChar="\t",r.indentSize=1),null!=t.baseIndent&&Number.isSafeInteger(t.baseIndent)&&(r.baseIndent=t.baseIndent),null!=t.attribute&&Number.isSafeInteger(t.attribute)&&(r.attribute=t.attribute),Number.isSafeInteger(t.closeBracket)){const e=Number(t.closeBracket);r.closeBracket={startTag:e,endTag:e,selfClosingTag:e}}else t.closeBracket&&(r.closeBracket=Object.assign({startTag:0,endTag:0,selfClosingTag:0},t.closeBracket));return null!=t.switchCase&&Number.isSafeInteger(t.switchCase)&&(r.switchCase=t.switchCase),null!=t.alignAttributesVertically&&(r.alignAttributesVertically=t.alignAttributesVertically),null!=t.ignores&&(r.ignores=t.ignores),r}(e.options[0],e.options[1]||{},n),P=e.getSourceCode(),V=new Map,B=new Set;function O(e,t,n){if(e&&e!==n)if(Array.isArray(e))for(const r of e)r&&r!==n&&V.set(r,{baseToken:n,offset:t,baseline:!1,expectedIndent:void 0});else V.set(e,{baseToken:n,offset:t,baseline:!1,expectedIndent:void 0})}function q(e,n=0){n=Math.trunc(n);let r,i,a=t.getFirstToken(e),l=t.getLastToken(e);for(;null!=(r=t.getTokenBefore(a))&&null!=(i=t.getTokenAfter(l))&&o(r)&&s(i)&&r.range[0]>=n;)a=r,l=i;return{firstToken:a,lastToken:l}}function j(e,n,r,o,s){let i;const a=n&&t.getFirstToken(n),l=r&&t.getFirstToken(r);if(e.length>0){let r=null,p=n;const c=[],u=[];for(const n of e){if(null==n)continue;const e=q(n,null==p?0:p.range[1]);if(null!=p)for(i=p;null!=(i=t.getTokenAfter(i,S))&&i.range[1]<=e.firstToken.range[0];)null==r?c.push(i):u.push(i);null==r?r=e.firstToken:u.push(e.firstToken),p=e.lastToken}if(null!=l&&null!=p)for(i=p;null!=(i=t.getTokenAfter(i,S))&&i.range[1]<=l.range[0];)null==r?c.push(i):u.push(i);null!=a&&O(c,o,a),null!=r&&(null!=a&&O(r,o,a),e.some(I)&&function(e){const t=V.get(e);null!=t&&(t.baseline=!0)}(r),!1===s&&null!=a?O(u,o,a):O(u,0,r))}null!=l&&null!=a&&O(l,0,a)}function D(e,t){const n=q(e).firstToken;O(n,l(n)?0:1,t)}function M(e,n){const r=t.getFirstToken(e),o=V.get(r);null==o?V.set(r,{baseToken:null,offset:0,baseline:!1,expectedIndent:n}):o.expectedIndent=n}function L(e){for(const n of t.getTokens(e))V.delete(n),B.add(n)}function N(e){const t=[];for(const[n,r]of e.entries()){const e=V.get(r);if(null!=e)if(null==e.expectedIndent){const r=V.get(e.baseToken);if(null!=r&&null!=r.expectedIndent&&(0===n||!r.baseline)&&(t.push(r.expectedIndent+e.offset*F.indentSize),r.baseline))break}else t.push(e.expectedIndent)}return 0===t.length?null:{expectedIndent:t[0],expectedBaseIndent:Math.min(...t)}}function R(e,t,n){if("Block"===e.type&&e.loc.start.line!==e.loc.end.line){const r=P.getText(e).match(w)||[],o=r.shift();if(r.every(e=>E.test(e)))return s=>{const i=[e.range[0]-t,e.range[1]],a=F.indentChar.repeat(n);return s.replaceTextRange(i,`${a}${o}${r.map(e=>e.replace(E,a+" *")).join("")}`)}}return r=>{const o=[e.range[0]-t,e.range[0]],s=F.indentChar.repeat(n);return r.replaceTextRange(o,s)}}function $(t,n,r){const o=t.loc.start.line,s=function(e){const t=P.text;let n=e.range[0]-1;for(;n>=0&&!T.test(t[n]);)n-=1;return t.slice(n+1,e.range[0])}(t);if(""!==s.trim())return;const i=t.loc.start.column,a="\t"===F.indentChar?"tab":"space";for(const[r,a]of[...s].entries())if(a!==F.indentChar)return void e.report({loc:{start:{line:o,column:r},end:{line:o,column:r+1}},message:"Expected {{expected}} character, but found {{actual}} character.",data:{expected:JSON.stringify(F.indentChar),actual:JSON.stringify(a)},fix:R(t,i,n)});i===n||null!=r&&r.includes(i)||e.report({loc:{start:{line:o,column:0},end:{line:o,column:i}},message:"Expected indentation of {{expectedIndent}} {{unit}}{{expectedIndentPlural}} but found {{actualIndent}} {{unit}}{{actualIndentPlural}}.",data:{expectedIndent:n,actualIndent:i,unit:a,expectedIndentPlural:1===n?"":"s",actualIndentPlural:1===i?"":"s"},fix:R(t,i,n)})}function _(e,t,n){const r=e[0],o=r.loc.start.column,s=N(e);if(!s)return;const i=s.expectedBaseIndent,a=s.expectedIndent,l=new Set;for(const t of e){const n=V.get(t);null!=n&&(n.baseline?(n.expectedIndent=" "===F.indentChar?Math.max(0,t.loc.start.column+i-o):i+(t===e[0]?0:1),l.add(t)):l.has(n.baseToken)?(n.expectedIndent=V.get(n.baseToken).expectedIndent,l.add(t)):n.expectedIndent=i)}if(B.has(r))return;const p=V.get(n),c=function(e,t,n){return"number"!=typeof n||(null==(r=e)||"HTMLEndTagOpen"!==r.type&&"VExpressionEnd"!==r.type&&("Punctuator"!==r.type||")"!==r.value&&"}"!==r.value&&"]"!==r.value))?[t]:t===n?[t+F.indentSize,t]:[n,t];var r}(r,a,p&&p.expectedIndent);for(const e of t){const t=N([e]);$(e,t?t.expectedIndent:c[0],c)}$(r,a)}const K=new Set,U={VAttribute(e){const n=t.getFirstToken(e),r=t.getTokenAfter(e.key);if(null!=r&&r.range[1]<=e.range[1]){O(r,1,n);const o=t.getTokenAfter(r);null!=o&&o.range[1]<=e.range[1]&&O(o,1,n)}},VElement(e){if(A.has(e.name)){const n=t.getFirstToken(e);O(e.endTag&&t.getFirstToken(e.endTag),0,n),function(e){const n=e.endTag&&t.getFirstToken(e.endTag)||t.getTokenAfter(e),r={includeComments:!0,filter:e=>null!=e&&("HTMLText"===e.type||"HTMLRCDataText"===e.type||"HTMLTagOpen"===e.type||"HTMLEndTagOpen"===e.type||"HTMLComment"===e.type)},o=n?t.getTokensBetween(e.startTag,n,r):t.getTokensAfter(e.startTag,r);for(const e of o)B.add(e);B.add(n)}(e)}else{const t="VElement"!==e.parent.type?F.baseIndent:1;j(e.children.filter(b),e.startTag,e.endTag,t,!1)}},VEndTag(e){const n=e.parent,r=t.getFirstToken(n.startTag),o=t.getLastToken(e);o.type.endsWith("TagClose")&&O(o,F.closeBracket.endTag,r)},VExpressionContainer(e){if(null!=e.expression&&e.range[0]!==e.expression.range[0]){const n=t.getFirstToken(e),r=t.getLastToken(e);O(t.getTokenAfter(n),1,n),O(r,0,n)}},VFilter(e){const n=t.getFirstToken(e),r=t.getLastToken(e);if(s(r)){const o=t.getTokenAfter(e.callee);O(o,1,n),j(e.arguments,o,r,1)}},VFilterSequenceExpression(e){if(0===e.filters.length)return;const n=t.getFirstToken(e),r=[];for(const n of e.filters)r.push(t.getTokenBefore(n,k),t.getFirstToken(n));O(r,1,n)},VForExpression(e){const n=t.getFirstToken(e),r=v(e.left)||n,i=t.getTokenAfter(r,a),l=t.getFirstToken(e.right);if(o(n)){const o=t.getTokenAfter(r,s);j(e.left,n,o,1)}O(i,1,n),O(l,1,i)},VOnExpression(e){j(e.body,null,null,0)},VStartTag(e){const n=t.getFirstToken(e),r=t.getLastToken(e);if(j(e.attributes,n,null,F.attribute,F.alignAttributesVertically),null!=r&&r.type.endsWith("TagClose")){O(r,"HTMLSelfClosingTagClose"===r.type?F.closeBracket.selfClosingTag:F.closeBracket.startTag,n)}},VText(e){const n=t.getTokens(e,h),r=V.get(t.getFirstToken(e));for(const e of n)V.set(e,Object.assign({},r))},VIdentifier(){},VLiteral(){},VDirectiveKey(){},VSlotScopeExpression(){},"ArrayExpression, ArrayPattern"(e){const n=t.getFirstToken(e),r=t.getTokenAfter(e.elements[e.elements.length-1]||n,u);j(e.elements,n,r,1)},ArrowFunctionExpression(e){const n=t.getFirstToken(e),i=t.getTokenAfter(n),a=e.async?i:n,l=t.getTokenBefore(e.body,r);if(e.async&&O(i,1,n),o(a)){const n=t.getTokenAfter(v(e.params)||a,s);j(e.params,a,n,1)}O(l,1,n),D(e.body,n)},"AssignmentExpression, AssignmentPattern, BinaryExpression, LogicalExpression"(e){const n=function(e){const n=e.type;for(;e.parent&&e.parent.type===n;){const n=t.getTokenBefore(e);if(o(n))break;e=e.parent}return t.getFirstToken(e)}(e),r=t.getTokenAfter(e.left,a),s=t.getTokenAfter(r),i=t.getTokenBefore(n);O([r,s],null==i||i.loc.end.line===n.loc.start.line||function(e,n){let r=n;for(;null!=r&&null!=r.parent;){const s=r.parent;if(s.type.endsWith("Statement")||s.type.endsWith("Declaration"))return s.range[0]===e.range[0];if("VExpressionContainer"===s.type){if(r.range[0]!==e.range[0])return!1;const s=t.getTokenBefore(n);return!o(s)}if("CallExpression"===s.type||"NewExpression"===s.type){const n=t.getTokenAfter(s.callee,a);return s.arguments.some(t=>q(t,n.range[1]).firstToken.range[0]===e.range[0])}if("ArrayExpression"===s.type)return s.elements.some(t=>null!=t&&q(t).firstToken.range[0]===e.range[0]);if("SequenceExpression"===s.type)return s.expressions.some(t=>q(t).firstToken.range[0]===e.range[0]);r=s}return!1}(n,e)?1:0,n)},"AwaitExpression, RestElement, SpreadElement, UnaryExpression"(e){const n=t.getFirstToken(e);O(t.getTokenAfter(n),1,n)},"BlockStatement, ClassBody"(e){j(e.body,t.getFirstToken(e),t.getLastToken(e),1)},"BreakStatement, ContinueStatement, ReturnStatement, ThrowStatement"(e){if(("ReturnStatement"===e.type||"ThrowStatement"===e.type)&&null!=e.argument||("BreakStatement"===e.type||"ContinueStatement"===e.type)&&null!=e.label){const n=t.getFirstToken(e);O(t.getTokenAfter(n),1,n)}},CallExpression(e){const n=t.getFirstToken(e),r=t.getLastToken(e),s=t.getTokenAfter(e.callee,o);for(const r of t.getTokensBetween(t.getLastToken(e.callee),s,C))O(r,1,n);O(s,1,n),j(e.arguments,s,r,1)},ImportExpression(e){const n=t.getFirstToken(e),r=t.getLastToken(e),s=t.getTokenAfter(n,o);O(s,1,n),j([e.source],s,r,1)},CatchClause(e){const n=t.getFirstToken(e),r=t.getFirstToken(e.body);if(null!=e.param){const r=t.getTokenAfter(n),o=t.getTokenAfter(e.param);O(r,1,n),j([e.param],r,o,1)}O(r,0,n)},"ClassDeclaration, ClassExpression"(e){const n=t.getFirstToken(e),r=t.getFirstToken(e.body);if(null!=e.id&&O(t.getFirstToken(e.id),1,n),null!=e.superClass){const r=t.getTokenBefore(e.superClass,x),o=t.getTokenAfter(r);O(r,1,n),O(o,1,r)}O(r,0,n)},ConditionalExpression(e){const n=t.getTokenBefore(e),r=t.getFirstToken(e),o=t.getTokenAfter(e.test,a),s=t.getTokenAfter(o),i=t.getTokenAfter(e.consequent,a),l=t.getTokenAfter(i);n&&n.loc.end.line!==e.loc.start.line&&e.test.loc.end.line===e.consequent.loc.start.line?O([o,s,i,l],0,r):(O([o,i],1,r),O([s,l],1,o))},DoWhileStatement(e){const n=t.getFirstToken(e),r=t.getTokenAfter(e.body,a),o=t.getTokenAfter(r),s=t.getTokenAfter(o),i=t.getLastToken(e),l=d(i)?t.getTokenBefore(i):i;D(e.body,n),O(r,0,n),O(o,1,r),O(s,1,o),O(l,0,o)},ExportAllDeclaration(e){const n=t.getFirstToken(e),r=[...t.getTokensBetween(n,e.source),t.getFirstToken(e.source)];if(e.exported){const e=r.find(y),o=t.getTokenAfter(e),s=t.getTokenAfter(o),i=r.slice(r.indexOf(s)+1);O(e,1,n),O(o,1,e),O(s,1,e),O(i,1,n)}else O(r,1,n);const o=t.getLastToken(e,m),s=t.getTokensBetween(e.source,o);if(s.length>0){const e=s.shift();O(e,0,n);const t=s.shift();t&&(O(t,1,e),j(s,t,o,1))}},ExportDefaultDeclaration(e){const n=t.getFirstToken(e);O([t.getFirstToken(e,1),q(e.declaration).firstToken],1,n)},ExportNamedDeclaration(e){const n=t.getFirstToken(e);if(e.declaration){O(t.getFirstToken(e,1),1,n)}else{const r=e.specifiers[0];if(!r||"ExportSpecifier"===r.type){const o=r?t.getTokensBetween(n,r):[t.getTokenAfter(n)],s=e.source?t.getTokenBefore(e.source,p):t.getLastToken(e,p);if(O(o,0,n),j(e.specifiers,v(o),s,1),e.source){O([...t.getTokensBetween(s,e.source),P.getFirstToken(e.source)],1,n);const r=t.getLastToken(e,m),o=t.getTokensBetween(e.source,r);if(o.length>0){const e=o.shift();O(e,0,n);const t=o.shift();t&&(O(t,1,e),j(o,t,r,1))}}}}},"ExportSpecifier, ImportSpecifier"(e){const n=t.getTokens(e);let r=n.shift();if("type"===r.value){const e=r;r=n.shift(),O(r,0,e)}O(n,1,r)},"ForInStatement, ForOfStatement"(e){const n=t.getFirstToken(e),r="ForOfStatement"===e.type&&e.await&&t.getTokenAfter(n)||null,o=t.getTokenAfter(r||n),s=t.getTokenAfter(o),l=t.getTokenAfter(s,a),p=t.getTokenAfter(l),c=t.getTokenBefore(e.body,i);null!=r&&O(r,0,n),O(o,1,n),O(s,1,o),O(l,1,s),O(p,1,s),O(c,0,o),D(e.body,n)},ForStatement(e){const n=t.getFirstToken(e),r=t.getTokenAfter(n),o=t.getTokenBefore(e.body,i);O(r,1,n),j([e.init,e.test,e.update],r,o,1),D(e.body,n)},"FunctionDeclaration, FunctionExpression"(e){const n=t.getFirstToken(e);let r,i;if(o(n))r=n,i=t.getFirstToken(e.parent);else{let s=t.getTokenAfter(n),a=0;for(;s&&!o(s)&&"<"!==s.value;)("*"===s.value||e.id&&s.range[0]===e.id.range[0])&&(a=1),O(s,a,n),s=t.getTokenAfter(s);r=s,i=n}!o(r)&&e.typeParameters&&(r=t.getTokenAfter(e.typeParameters));const a=t.getTokenAfter(e.params[e.params.length-1]||r,s);O(r,1,i),j(e.params,r,a,1);O(t.getFirstToken(e.body),0,i)},IfStatement(e){const n=t.getFirstToken(e),r=t.getTokenAfter(n),o=t.getTokenBefore(e.consequent,s);if(O(r,1,n),O(o,0,r),D(e.consequent,n),null!=e.alternate){const r=t.getTokenAfter(e.consequent,a);O(r,0,n),D(e.alternate,r)}},ImportDeclaration(e){const n=t.getFirstToken(e),r=t.getTokensBetween(n,e.source),o=r.map(e=>e.value).lastIndexOf("from"),{fromToken:s,beforeTokens:i,afterTokens:a}=-1===o?{fromToken:null,beforeTokens:[...r,t.getFirstToken(e.source)],afterTokens:[]}:{fromToken:r[o],beforeTokens:r.slice(0,o),afterTokens:[...r.slice(o+1),t.getFirstToken(e.source)]},c=[];for(const n of e.specifiers)if("ImportSpecifier"===n.type)c.push(n);else{const e=t.getTokens(n);e.shift();for(const t of e){const e=i.indexOf(t);-1!==e&&i.splice(e,1)}}if(c.length>0){const e=t.getTokenBefore(c[0]),n=t.getTokenAfter(c[c.length-1],p);j(c,e,n,1);for(const r of[...t.getTokensBetween(e,n),n]){const e=i.indexOf(r);-1!==e&&i.splice(e,1)}}i.every(e=>l(e)||p(e))?O(i,0,n):O(i,1,n),s&&(O(s,1,n),O(a,0,s));const u=t.getLastToken(e,m),d=t.getTokensBetween(e.source,u);if(d.length>0){const e=d.shift();O(e,0,n);const t=d.shift();t&&(O(t,1,e),j(d,t,u,1))}},ImportNamespaceSpecifier(e){const n=t.getTokens(e),r=n.shift();O(n,1,r)},LabeledStatement(e){const n=t.getFirstToken(e),r=t.getTokenAfter(n);O([r,t.getTokenAfter(r)],1,n)},"MemberExpression, MetaProperty"(e){const n=t.getFirstToken(e);if("MemberExpression"===e.type&&e.computed){const r=t.getTokenBefore(e.property,c),o=t.getTokenAfter(r),s=t.getTokenAfter(e.property,u);for(const o of t.getTokensBetween(t.getLastToken(e.object),r,C))O(o,1,n);O(r,1,n),O(o,1,r),O(s,0,r)}else{const r=t.getTokenBefore(e.property);O([r,t.getTokenAfter(r)],1,n)}},"MethodDefinition, Property, PropertyDefinition"(e){const n=t.getFirstToken(e),r=q(e.key),o=t.getTokensBetween(n,r.firstToken);let s;if(e.computed&&o.pop(),O(o,0,n),e.computed){const o=t.getTokenBefore(r.firstToken),i=s=t.getTokenAfter(r.lastToken);O(o,0,n),j([e.key],o,i,1)}else O(r.firstToken,0,n),s=r.lastToken;if(null!=e.value){const n=t.getFirstToken(e.value);O([...t.getTokensBetween(s,n),n],1,s)}},NewExpression(e){const n=t.getFirstToken(e),r=t.getTokenAfter(n),i=t.getLastToken(e),a=s(i)?t.getFirstTokenBetween(e.callee,i,o):null;O(r,1,n),null!=a&&(O(a,1,r),j(e.arguments,a,i,1))},"ObjectExpression, ObjectPattern"(e){const n=t.getFirstToken(e),r=t.getTokenAfter(e.properties[e.properties.length-1]||n,p);j(e.properties,n,r,1)},SequenceExpression(e){j(e.expressions,null,null,0)},SwitchCase(e){const n=t.getFirstToken(e);if(null==e.test){O(t.getTokenAfter(n),1,n)}else{O([t.getTokenAfter(n),t.getTokenAfter(e.test,a)],1,n)}1===e.consequent.length&&"BlockStatement"===e.consequent[0].type?O(t.getFirstToken(e.consequent[0]),0,n):e.consequent.length>0&&(O(t.getFirstToken(e.consequent[0]),1,n),j(e.consequent,null,null,0))},SwitchStatement(e){const n=t.getFirstToken(e),r=t.getTokenAfter(n),o=t.getTokenAfter(r),s=t.getTokenAfter(e.discriminant,l),i=t.getTokenBefore(s),a=t.getLastToken(e);O(r,1,n),O(o,1,r),O(i,0,r),O(s,0,n),j(e.cases,s,a,F.switchCase)},TaggedTemplateExpression(e){const n=q(e.tag,e.range[0]);O(t.getTokenAfter(n.lastToken),1,n.firstToken)},TemplateLiteral(e){const n=t.getFirstToken(e),r=e.quasis.slice(1).map(e=>t.getFirstToken(e)),o=e.quasis.slice(0,-1).map(e=>t.getTokenAfter(e));O(r,0,n),O(o,1,n)},TryStatement(e){const n=t.getFirstToken(e);if(O(t.getFirstToken(e.block),0,n),null!=e.handler){O(t.getFirstToken(e.handler),0,n)}if(null!=e.finalizer){O([t.getTokenBefore(e.finalizer),t.getFirstToken(e.finalizer)],0,n)}},UpdateExpression(e){const n=t.getFirstToken(e);O(t.getTokenAfter(n),1,n)},VariableDeclaration(e){j(e.declarations,t.getFirstToken(e),null,1)},VariableDeclarator(e){if(null!=e.init){const n=t.getFirstToken(e),r=t.getTokenAfter(e.id);O([r,t.getTokenAfter(r)],1,n)}},"WhileStatement, WithStatement"(e){const n=t.getFirstToken(e),r=t.getTokenAfter(n),o=t.getTokenBefore(e.body,s);O(r,1,n),O(o,0,r),D(e.body,n)},YieldExpression(e){if(null!=e.argument){const n=t.getFirstToken(e);O(t.getTokenAfter(n),1,n),e.delegate&&O(t.getTokenAfter(n,1),1,n)}},DebuggerStatement(){},Identifier(){},ImportDefaultSpecifier(){},Literal(){},PrivateIdentifier(){},Super(){},TemplateElement(){},ThisExpression(){},ExpressionStatement(){},ChainExpression(){},EmptyStatement(){},":statement, PropertyDefinition"(e){!function(e){const n=t.getFirstToken(e),r=t.getLastToken(e);d(r)&&n!==r&&O(r,0,n);const o=V.get(n),s=t.getTokenBefore(n);null!=o&&s&&d(s)&&s.loc.end.line===n.loc.start.line&&V.set(s,o)}(e)},":expression"(e){let n=t.getTokenBefore(e),r=t.getTokenAfter(e),i=t.getFirstToken(e);for(;n&&r&&o(n)&&s(r);)O(i,1,n),O(r,0,n),i=n,n=t.getTokenBefore(n),r=t.getTokenAfter(r)},"*:exit"(e){K.has(e.type)||L(e)},Program(e){const t=e.tokens[0],n=null!=t&&"Punctuator"===t.type&&"<script>"===t.value?F.indentSize*F.baseIndent:0;for(const t of e.body)M(t,n)},"VElement[parent.type!='VElement']"(e){M(e,0)},":matches(Program, VElement[parent.type!='VElement']):exit"(e){let n=[],r=[],o=!1,s=null;for(const i of t.getTokens(e,S)){const e=i.loc.start.line;0===r.length||r[0].loc.start.line===e?r.push(i):r.every(f)?(n.push(r[0]),o=v(r).loc.end.line===e,r=[i]):(o||(_(r,n,s),s=r[0]),o=v(r).loc.end.line===e,r=[i],n=[])}r.some(g)&&_(r,n,s)}};for(const e of Object.keys(U))for(const t of e.split(/\s*,\s*/gu).map(e=>e.trim()).filter(e=>/[a-z]+/i.test(e)))K.add(t);return function(e){for(const t of F.ignores){const n=t+":exit";if(e.hasOwnProperty(n)){const t=e[n];e[n]=function(e,...n){const r=t.call(this,e,...n);return L(e),r}}else e[n]=L}return e}(U)}},767:function(e,t,n){"use strict";e.exports={isWildcard:function(e){return null!=e&&"Punctuator"===e.type&&"*"===e.value},isQuestion:function(e){return null!=e&&"Punctuator"===e.type&&"?"===e.value},isExtendsKeyword:function(e){return null!=e&&"Keyword"===e.type&&"extends"===e.value},isNotWhitespace:function(e){return null!=e&&"HTMLWhitespace"!==e.type&&("JSXText"!==e.type||!!e.value.trim())},isComment:function(e){return null!=e&&("Block"===e.type||"Line"===e.type||"Shebang"===e.type||"string"==typeof e.type&&e.type.endsWith("Comment"))},isNotComment:function(e){return null!=e&&"Block"!==e.type&&"Line"!==e.type&&"Shebang"!==e.type&&!("string"==typeof e.type&&e.type.endsWith("Comment"))},isNotEmptyTextNode:function(e){return!("VText"===e.type&&""===e.value.trim())},isPipeOperator:function(e){return null!=e&&"Punctuator"===e.type&&"|"===e.value},last:function(e){return 0===e.length?void 0:e[e.length-1]}}},768:function(e,t,n){"use strict";const r=n(154);e.exports={meta:{type:"problem",docs:{description:"require <swiper-item>: 建议在子节点上设置样式",categories:["mpx-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/valid-swiper-item-style.html"},fixable:null,schema:[],messages:{swiperitem:"'<swiper-item>' 动态样式建议在子节点上设置，否则数据变更时可能出现样式异常."}},create(e){const t=e.getSourceCode();return r.defineTemplateBodyVisitor(e,{"VAttribute:matches([directive=true][key.name.name='style'],[key.name='style'])[parent.parent.name='swiper-item']"(n){n.value&&/\{\{(.)+\}\}/.test(t.getText(n.value))&&e.report({node:n.value,loc:n.value.loc,messageId:"swiperitem"})}})}}},769:function(e,t,n){"use strict";const r=n(154);e.exports={meta:{type:"problem",docs:{description:"enforce valid `wx:key` directives",categories:["mpx-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/valid-wx-key.html"},fixable:null,schema:[{type:"object",properties:{keywords:{type:"array"}}}],messages:{directives:"'wx:key' and 'wx:for' directives need exist on the same element. You may add 'wx:for' directives.",argument:"'wx:key' directives require no argument.",modifier:"'wx:key' directives require no modifier.",keyvalue:"'wx:key' directives require that attribute value.",keywordError:"'wx:key={{text}}' does not look like a valid key name (Do not use attributes {{keywordError}}. Add ignore If necessary).",staticProperty:"'wx:key={{text}}' required static property.",result:"'wx:key={{text}}' does not look like a valid key name (Did you mean 'wx:key=\"{{result}}\"' ?).",keyName:"'wx:key={{text}}' does not look like a valid key name.",keydirectives:"'wx:for' require 'wx:key' directives on the same element. You may add 'wx:key' directives."}},create(e){const t=e.options[0]||{},n=Array.isArray(t.keywords)?t.keywords:["this","index"],o=n.map(e=>e&&`"${e}"`).filter(e=>e).join(" or "),s=e.getSourceCode();return r.defineTemplateBodyVisitor(e,{"VAttribute[directive=true][key.name.name='key']"(t){const i=t.parent.parent;if(r.hasDirective(i,"for")||e.report({node:t,loc:t.loc,messageId:"directives"}),t.key.argument&&e.report({node:t,loc:t.loc,messageId:"argument"}),t.key.modifiers.length>0&&e.report({node:t,loc:t.loc,messageId:"modifier"}),!t.value||r.isEmptyValueDirective(t,e))return e.report({node:t,loc:t.loc,messageId:"keyvalue"});const a=t.value,l=s.getText(a),p=l.replace(/^(['|"])(.*)\1$/,(...e)=>e[2]);if(n.includes(p)&&e.report({node:t,loc:t.loc,messageId:"keywordError",data:{text:l,keywordError:o}}),/^[\da-zA-Z_$]*$/.test(p)||"*this"===p)return;let c=0;/\{{2}(.)+\}{2}/.test(l)&&(c=1,e.report({node:t,loc:t.loc,messageId:"staticProperty",data:{text:l}})),a.expression&&"MemberExpression"===a.expression.type&&(c=1,e.report({node:t,loc:t.loc,messageId:"result",data:{text:l,result:a.expression.property&&a.expression.property.name}})),c||e.report({node:t,loc:t.loc,messageId:"keyName",data:{text:l}})},"VAttribute[directive=true][key.name.name='for']"(t){const n=t.parent.parent;r.hasDirective(n,"key")||e.report({node:t,loc:t.loc,messageId:"keydirectives"})}})}}},770:function(e,t,n){"use strict";const r=n(154);e.exports={meta:{type:"problem",docs:{description:"enforce valid valid-attribute-value",categories:["mpx-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/valid-attribute-value.html"},fixable:null,schema:[],messages:{requireValue:"'{{value}}' attribute expression require valid value.",requireAttribute:"'{{value}}' directive require that attribute value."}},create(e){const t=e.getSourceCode();return r.defineTemplateBodyVisitor(e,{VAttribute:n=>{const o=n.value,s=o&&t.getText(o);if(s&&/\{\{(\s|[^\w])*\}\}/.test(s))e.report({node:n,loc:n.loc,messageId:"requireValue",data:{value:t.getText(n)}});else if(n.directive){r.isEmptyValueDirective(n,e)&&e.report({node:n,loc:n.loc,messageId:"requireAttribute",data:{value:t.getText(n)}})}}})}}},771:function(e,t,n){"use strict";const r=n(154);e.exports={meta:{type:"problem",docs:{description:"enforce valid valid-template-quote",categories:["mpx-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/valid-template-quote.html"},fixable:"code",schema:[{enum:[0,1,"single","double"]}],messages:{requirequotes:"`{{value}}` attribute value require {{characterText}} quotes."}},create(e){const t=[1,"single"].includes(e.options[0]),n=t?"'":'"',o=e=>new RegExp(`^([${e}])(.*)\\1$`),s=t?"single":"double",i=[o(n),o(t?'"`':"'`")],a=e.getSourceCode();return r.defineTemplateBodyVisitor(e,{VAttribute:t=>{const r=t.value,o=r&&a.getText(r);if(o&&!i[0].test(o)&&!o.includes(n)){const r=o.replace(i[1],(...e)=>e[2]),l=n+r+n;e.report({node:t,loc:t.loc,messageId:"requirequotes",data:{value:a.getText(t),characterText:s},fix:e=>t.value&&e.replaceText(t.value,l)})}}})}}},772:function(e,t,n){"use strict";const r=n(154);e.exports={meta:{type:"problem",docs:{description:"require 强制 component 添加 range 范围",categories:["mpx-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/valid-component-range.html"},fixable:null,schema:[],messages:{elementRequire:"'component' element require 'is' attribute.",elementRange:"'component' element require 'range' for backup.",elementScope:"'component' element require 'range' attribute to set the scope.",componentRequire:"'component' attribute '{{key}}' require valid value."}},create:e=>r.defineTemplateBodyVisitor(e,{"VElement[name='component']"(t){const n=r.getAttribute(t,"is"),o=r.getAttributeAll(t,/^range(@[\w-|:]+)?$/);if(!n)return e.report({node:t,loc:t.loc,messageId:"elementRequire"});o.length>0?r.getAttribute(t,"range")||e.report({node:t,loc:t.loc,messageId:"elementRange"}):e.report({node:t,loc:t.loc,messageId:"elementScope"});for(const r of[n,...o])!r||r.value&&r.value.value||e.report({node:t,loc:t.loc,messageId:"componentRequire",data:{key:r.key.name}})}})}},773:function(e,t,n){"use strict";const r=n(154);function o(e,t){for(const n of e.argument.arguments)if("ArrayExpression"===n.type)for(const e of n.elements)t.add(e.value)}function s(e,t,n){for(const r of e)if("Property"===r.type)t.add(r.key.name);else if("SpreadElement"===r.type&&"CallExpression"===r.argument.type&&r.argument.arguments)o(r,t);else if("SpreadElement"===r.type&&"Identifier"===r.argument.type&&n[r.argument.name]){const e=n[r.argument.name];for(const n of e)t.add(n.key.name)}}e.exports={meta:{type:"problem",docs:{description:"prevent `<script setup>` variables used in `<template>` to be marked as unused",categories:["composition-api-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/valid-setup-define-expose.html"},schema:[],messages:{unexpected:"The variable '{{name}}' isn't expose in setup scripts."}},create(e){if(!r.isScriptSetup(e))return{};const t={},n=new Set(["index","item","*this","this","__application_name__","__mpx_mode__","$event"]),o=e.getSourceCode().scopeManager.globalScope;if(o){for(const e of o.variables)n.add(e.name);const e=o.childScopes.find(e=>"module"===e.type);for(const n of e&&e.variables||[])Array.isArray(n.references)&&n.references[0]&&n.references[0].writeExpr&&n.references[0].writeExpr.properties&&(t[n.name]=n.references[0].writeExpr.properties)}return r.defineTemplateBodyVisitor(e,{VExpressionContainer(t){for(const r of t.references.filter(e=>null==e.variable))t.parent.key&&["key","ref","for-item","for-index"].includes(t.parent.key.name.name)?"for-item"!==t.parent.key.name.name&&"for-index"!==t.parent.key.name.name||n.add(r.id.name):n.has(r.id.name)||e.report({node:t,messageId:"unexpected",data:{name:r.id.name}})},VAttribute(t){if(t.parent&&t.parent.parent&&"wxs"===t.parent.parent.name&&t.key&&"module"===t.key.name&&n.add(t.value.value),t.value&&t.value.value&&/{{.+}}/.test(t.value.value)){const r=t.value.value,o=r.match(/\{\{(.+?)\}\}/g);for(let s of o)s=s.replace(/(\{\{)|\s|(\}\})/g,""),!/^([^\u0000-\u00FF]|[a-zA-Z_$])([^\u0000-\u00FF]|[a-zA-Z0-9_$])*$/.test(s)||["true","false"].includes(s)||n.has(s)||e.report({node:t,messageId:"unexpected",data:{name:r}})}}},{ObjectExpression(e){const r=e.parent;if(r&&"CallExpression"===r.type){if("defineOptions"===r.callee.name){if(e.properties&&Array.isArray(e.properties))for(const r of e.properties)if(["data","computed","methods"].includes(r.key.name)){r.value.properties&&Array.isArray(r.value.properties)&&s(r.value.properties,n,t)}}"defineProps"!==r.callee.name&&"withDefaults"!==r.callee.name||s(e.properties,n,t)}},CallExpression(e){if("defineExpose"===e.callee.name){const r=e.arguments[0];r&&"ObjectExpression"===r.type&&Array.isArray(r.properties)?s(r.properties,n,t):r&&"Identifier"===r.type&&function(e,t,n){const r=n[e];if(r)for(const e of r)t.add(e.key.name)}(r.name,n,t)}}})}}},774:function(e,t,n){"use strict";const r=n(154);function o(e,t){const n=e.properties;for(const e of n)if("SpreadElement"===e.type&&e.argument&&e.argument.arguments){let n=[];if(e.argument.arguments[0])e.argument.arguments[0].elements&&(n=e.argument.arguments[0].elements);else if(e.argument.arguments.arguments){const t=e.argument.arguments.arguments.elements;if(t)for(const e of t)"ArrayExpression"===e.type&&(n=e.elements)}for(const e of n)t.add(e.value)}else t.add(e.key.name)}function s(e,t,n){for(const r of e){const e=r.key.name;if(e){let r=e;n&&(r=`${n}.${e}`),t.add(r)}if("ObjectExpression"===r.value.type&&r.value.properties){let o=e;n&&(o=`${n}.${e}`),s(r.value.properties,t,o)}}}e.exports={meta:{type:"suggestion",docs:{description:"require initData检测",recommended:!1,categories:["mpx-essential","composition-api-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/valid-initdata.html"},fixable:null,schema:[],messages:{missingValue:"Missing 'initData' but the data {{name}} used for property.",unexpected:"The data '{{name}}' isn't expose in initData but used for property."}},create(e){const t=new Set([]),n=new Set([]),i=new Set(["view","text","image","audio","video","button","input","navigator","icon","picker","picker-item","block","scroll-view","swiper","swiper-item","label","form","checkbox","checkbox-group","radio","radio-group","switch"]),a=new Set(["wx:if","wx:else","bindtap","catchtap","wx:for","wx:ref","wx:key","wx:for-item","class","style","hover-class","src"]);let l=0;return r.defineTemplateBodyVisitor(e,{VAttribute(r){const o=r.parent;if(!i.has(o.name)){if(!a.has(r.key.name)&&r.value&&r.value.value&&r.value.value.startsWith("{{")){const o=/(?<={{).*?(?=}})/;!function(e,t,n,r,o,s){if(1===s&&o){if(o.includes("||"))return;!t.has(o)&&e.has(o.split(".")[0])&&n.report({node:r,messageId:"unexpected",data:{name:o}})}}(n,t,e,r,r.value.value.match(o)[0],l),function(e,t,n,r,o,s){e.has(s)&&!t.has(s)&&2===n&&r.report({node:o,messageId:"missingValue",data:{name:s}})}(n,t,l,e,r,r.value.value.match(o)[0])}}}},{Program(t){if(!r.isScriptSetup(e))return;const n=t.body;if(n)for(const e of n)if("ExpressionStatement"===e.type&&e.expression&&"CallExpression"===e.expression.type&&"defineOptions"===e.expression.callee.name&&e.expression.arguments){for(const t of e.expression.arguments)if("ObjectExpression"===t.type&&t.properties)for(const e of t.properties)"initData"===e.key.name&&(l=1);0===l&&(l=2)}else 0===l&&(l=2)},CallExpression(t){if(r.isScriptSetup(e))"defineExpose"===t.callee.name&&o(t.arguments[0],n);else{if("createComponent"!==t.callee.name)return;const e=t.arguments[0].properties;if(!e)return;for(const t of e)"initData"===t.key.name&&(l=1);0===l&&(l=2)}},ObjectExpression(e){const n=e.parent;if(n&&"CallExpression"===n.type&&"defineOptions"===n.callee.name&&e.properties&&Array.isArray(e.properties))for(const n of e.properties)"initData"===n.key.name&&s(n.value.properties,t)},Property(e){if("computed"===e.key.name&&o(e.value,n),"initData"===e.key.name){e.parent.parent.callee&&"createComponent"===e.parent.parent.callee.name&&s(e.value.properties,t)}}})}}},775:function(e,t,n){"use strict";const r=n(154);e.exports={meta:{type:"problem",docs:{description:"disallow pageShow/pageHide废弃的生命周期",categories:["composition-api-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/no-deprecated-lifecycle.html"},fixable:null,schema:[],messages:{deprecatedPageShow:"The `pageShow` lifecycle hook is deprecated. Use `pageLifetimes.show` instead.",deprecatedPageHide:"The `pageHide` lifecycle hook is deprecated. Use `pageLifetimes.hide` instead."}},create:e=>r.executeOnMpx(e,t=>{const n=r.findProperty(t,"pageShow");n&&e.report({node:n.key,messageId:"deprecatedPageShow"});const o=r.findProperty(t,"pageHide");o&&e.report({node:o.key,messageId:"deprecatedPageHide"})})}},776:function(e,t,n){"use strict";e.exports={meta:{type:"problem",docs:{description:"disallow mpx.create*调用方式已经被废弃",categories:["composition-api-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/no-deprecated-mpx-createfunction.html"},fixable:null,schema:[],messages:{method:"The Mpx object of default export is no longer attached to the {{name}} runtime method."}},create:e=>({ExpressionStatement(t){t.expression.callee&&t.expression.callee.object&&"mpx"===t.expression.callee.object.name&&t.expression.callee.property&&["createApp","createStore","createPage","createComponent"].includes(t.expression.callee.property.name)&&e.report({node:t,messageId:"method",data:{name:t.expression.callee.property.name}})}})}},777:function(e,t,n){"use strict";e.exports={meta:{type:"problem",docs:{description:"require watch第二个参数统一为函数，不再提供对象",categories:["composition-api-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/no-deprecated-watch-second-param.html"},fixable:null,schema:[],messages:{attribute:"The watch API no longer accepts the second parameter as an object with the handler attribute."}},create:e=>({ExpressionStatement(t){t.expression&&"CallExpression"===t.expression.type&&"watch"===t.expression.callee.name&&t.expression.arguments[1]&&"ObjectExpression"===t.expression.arguments[1].type&&e.report({node:t,messageId:"attribute"})}})}},778:function(e,t,n){"use strict";const r=n(154),o=["type","value","optionalTypes","observer"];function s(e,t,n){if(!e)return;const r=t.getSourceCode(),o=r.getText(e.key);if(!e.value)return t.report({node:e,message:"The value of '{{propName}}' cannot be empty.",data:{propName:o}});if("ObjectExpression"===e.value.type){if(0===e.value.properties.length)return t.report({node:e.value,message:"The value of '{{propName}}' cannot be empty object.",data:{propName:o}});let s=0;for(const i of e.value.properties){if("Property"!==i.type)continue;const e=r.getText(i.key);n.includes(e)?"type"===e&&(s=1):t.report({node:i,message:"Property '{{propName}}' has invalid key '{{keyName}}'.",data:{propName:o,keyName:e}})}s||t.report({node:e.value,message:"Property '{{propName}}' requires 'type' key.",data:{propName:o}})}else if("Identifier"!==e.value.type&&"TSAsExpression"!==e.value.type)return t.report({node:e,message:"Invalid value for '{{propName}}'.",data:{propName:o}})}e.exports={meta:{type:"problem",docs:{description:"enforce that a return statement is present in computed property",categories:["mpx-essential"],url:"https://mpx-ecology.github.io/eslint-plugin-mpx/rules/valid-properties.html"},fixable:null,schema:[{type:"object",properties:{allowKeys:{type:"array"}}}],messages:{}},create(e){const t=(e.options[0]||{}).allowKeys||o;return r.isScriptSetup(e)?r.defineTemplateBodyVisitor(e,{},{"CallExpression[callee.name='defineProps'] > ObjectExpression"(n){for(const o of r.getComponentPropsFromDefine(n))"object"===o.type&&s(o.node,e,t)}}):r.defineMpxVisitor(e,{onMpxObjectEnter(n){for(const o of r.getComponentPropsFromOptions(n))"object"===o.type&&s(o.node,e,t)}})}}},779:function(e,t,n){e.exports={extends:223,rules:{"mpx/html-end-tags":"error","mpx/no-arrow-functions-in-watch":"error","mpx/no-async-in-computed-properties":"error","mpx/no-dupe-keys":"error","mpx/no-dupe-wx-elif":"error","mpx/no-duplicate-attributes":"error","mpx/no-reserved-keys":"error","mpx/no-side-effects-in-computed-properties":"error","mpx/return-in-computed-property":"error","mpx/valid-wx-if":"error","mpx/valid-wx-else":"error","mpx/valid-wx-elif":"error","mpx/valid-wx-model":"error","mpx/valid-swiper-item-style":"error","mpx/valid-wx-key":"error","mpx/valid-attribute-value":"error","mpx/valid-template-quote":"error","mpx/valid-component-range":"error","mpx/valid-properties":"error"}}},780:function(e,t,n){e.exports={extends:223,rules:{"mpx/html-end-tags":"error","mpx/no-dupe-wx-elif":"error","mpx/no-duplicate-attributes":"error","mpx/valid-wx-if":"error","mpx/valid-wx-else":"error","mpx/valid-wx-elif":"error","mpx/valid-wx-model":"error","mpx/valid-initdata":"warn","mpx/valid-setup-define-expose":"error","mpx/no-deprecated-mpx-createfunction":"error","mpx/no-deprecated-watch-second-param":"error","mpx/no-deprecated-lifecycle":"error"}}},781:function(e,t,n){"use strict";const r=n(224);e.exports=[{...r[0],name:"mpx/mpx-essential/rules",rules:{"mpx/comment-directive":"error","mpx/html-end-tags":"error","mpx/no-arrow-functions-in-watch":"error","mpx/no-async-in-computed-properties":"error","mpx/no-dupe-keys":"error","mpx/no-dupe-wx-elif":"error","mpx/no-duplicate-attributes":"error","mpx/no-reserved-keys":"error","mpx/no-side-effects-in-computed-properties":"error","mpx/return-in-computed-property":"error","mpx/valid-wx-if":"error","mpx/valid-wx-else":"error","mpx/valid-wx-elif":"error","mpx/valid-wx-model":"error","mpx/valid-swiper-item-style":"error","mpx/valid-wx-key":"error","mpx/valid-attribute-value":"error","mpx/valid-template-quote":"error","mpx/valid-component-range":"error","mpx/valid-properties":"error"}}]},782:function(e,t,n){"use strict";const r=n(224);e.exports=[{...r[0],name:"mpx/composition-api-essential/rules",rules:{"mpx/comment-directive":"error","mpx/html-end-tags":"error","mpx/no-dupe-wx-elif":"error","mpx/no-duplicate-attributes":"error","mpx/valid-wx-if":"error","mpx/valid-wx-else":"error","mpx/valid-wx-elif":"error","mpx/valid-wx-model":"error","mpx/valid-initdata":"warn","mpx/valid-setup-define-expose":"error","mpx/no-deprecated-mpx-createfunction":"error","mpx/no-deprecated-watch-second-param":"error","mpx/no-deprecated-lifecycle":"error"}}]},783:function(e,t,n){"use strict";n(278)},811:function(e,t,n){"use strict";n.r(t);var r=n(800),o=n(233),s={name:"ESLintCodeBlock",components:{EslintEditor:r.a},props:{fix:{type:Boolean,default:!1},rules:{type:Object,default:()=>({})},filename:{type:String,default:"example.mpx"},language:{type:String,default:"html"}},data:()=>({linter:null,preprocess:o.processors[".mpx"].preprocess,postprocess:o.processors[".mpx"].postprocess,format:{insertSpaces:!0,tabSize:2}}),computed:{config(){return{globals:{ArrayBuffer:!1,DataView:!1,Float32Array:!1,Float64Array:!1,Int16Array:!1,Int32Array:!1,Int8Array:!1,Map:!1,Promise:!1,Proxy:!1,Reflect:!1,Set:!1,Symbol:!1,Uint16Array:!1,Uint32Array:!1,Uint8Array:!1,Uint8ClampedArray:!1,WeakMap:!1,WeakSet:!1,Atomics:!1,SharedArrayBuffer:!1},rules:this.rules,parser:"mpx-eslint-parser",parserOptions:{ecmaVersion:"latest",sourceType:"module",ecmaFeatures:{jsx:!0}}}},code(){return this.computeCodeFromSlot(this.$slots.default).trim()+"\n"},height(){const e=this.code.split("\n").length;return Math.max(120,19*e)+"px"}},methods:{computeCodeFromSlot(e){return Array.isArray(e)?e.map(e=>e.text||this.computeCodeFromSlot(e.children)).join(""):""}},async mounted(){const[{Linter:e},{parseForESLint:t}]=await Promise.all([Promise.resolve().then(n.t.bind(null,352,7)),Promise.resolve().then(n.t.bind(null,189,7)).then(()=>Promise.resolve().then(n.t.bind(null,207,7)))]),r=this.linter=new e;for(const e of Object.keys(o.rules))r.defineRule("mpx/"+e,o.rules[e]);r.defineParser("mpx-eslint-parser",{parseForESLint:t})}},i=(n(783),n(9)),a=Object(i.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"eslint-code-container"},[t("eslint-editor",{staticClass:"eslint-code-block",style:{height:e.height},attrs:{linter:e.linter,config:e.config,code:e.code,filename:e.filename,language:e.language,preprocess:e.preprocess,postprocess:e.postprocess,dark:"",format:e.format,fix:e.fix}})],1)}),[],!1,null,null,null);t.default=a.exports}}]);