(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{845:function(s,t,e){"use strict";e.r(t);var a=e(9),n=Object(a.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"用户指南"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用户指南"}},[s._v("#")]),s._v(" 用户指南")]),s._v(" "),t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 💿 安装")]),s._v(" "),t("p",[s._v("Via "),t("a",{attrs:{href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm"),t("OutboundLink")],1),s._v(":")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --save-dev eslint eslint-plugin-mpx\n")])])]),t("p",[s._v("Via "),t("a",{attrs:{href:"https://yarnpkg.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("yarn"),t("OutboundLink")],1),s._v(":")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" eslint eslint-plugin-mpx\n")])])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("Requirements")]),s._v(" "),t("ul",[t("li",[s._v("ESLint v6.2.0 and above")]),s._v(" "),t("li",[s._v("Node.js v8.10.0 and above")])])]),s._v(" "),t("h2",{attrs:{id:"使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[s._v("#")]),s._v(" 📖 使用")]),s._v(" "),t("h3",{attrs:{id:"配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[s._v("#")]),s._v(" 配置")]),s._v(" "),t("p",[s._v("使用"),t("code",[s._v(".eslintrc.*")]),s._v("文件来配置规则。另见："),t("a",{attrs:{href:"https://eslint.org/docs/user-guide/configuring",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://eslint.org/docs/user-guide/configuring"),t("OutboundLink")],1),s._v(".")]),s._v(" "),t("p",[s._v("示例 "),t("strong",[s._v(".eslintrc.js")]),s._v(":")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// add more generic rulesets here, such as:")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 'eslint:recommended',")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'plugin:mpx/mpx-essential'")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("rules")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// override/add rules settings here, such as:")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 'mpx/no-unused-vars': 'error'")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[s._v("请参阅"),t("RouterLink",{attrs:{to:"/rules/"}},[s._v("规则列表")]),s._v("以获取“extends”的配置提供的规则。")],1),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("报告规则")]),s._v(" "),t("p",[s._v("默认情况下，来自 "),t("strong",[s._v("base")]),s._v(" 和 "),t("strong",[s._v("essential")]),s._v(" 类别的所有规则都会报告 ESLint 错误。其他规则——因为它们没有涵盖应用程序中的潜在错误——报告警告。 这是什么意思？ 默认情况下 - 什么都没有，但如果你愿意 - 你可以设置一个阈值并在一定数量的警告后中断构建，而不是任何警告。 "),t("a",{attrs:{href:"https://eslint.org/docs/user-guide/command-line-interface#handling-warnings",target:"_blank",rel:"noopener noreferrer"}},[s._v("更多信息"),t("OutboundLink")],1),s._v(".")])]),s._v(" "),t("h3",{attrs:{id:"集成配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#集成配置"}},[s._v("#")]),s._v(" 集成配置")]),s._v(" "),t("p",[s._v("因为mpx的解析会影响到ts,js文件的eslint解析，需要overrides一下对应文件的解析器，所以集成了一个eslint的config文件,"),t("a",{attrs:{href:"https://github.com/mpx-ecology/eslint-config",target:"_blank",rel:"noopener noreferrer"}},[s._v("具体配置"),t("OutboundLink")],1)]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// .eslintrc.js")]),s._v("\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@mpxjs'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("h3",{attrs:{id:"命令行运行eslint"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令行运行eslint"}},[s._v("#")]),s._v(" 命令行运行ESLint")]),s._v(" "),t("p",[s._v("如果要从命令行运行 "),t("code",[s._v("eslint")]),s._v("，请确保使用 "),t("a",{attrs:{href:"https://eslint.org/docs/user-guide/configuring#specifying-file-extensions-to-lint",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("--ext")]),s._v(" 选项"),t("OutboundLink")],1),s._v("包含 "),t("code",[s._v(".mpx")]),s._v(" 扩展名或 glob 模式，因为 ESLint 默认只针对 "),t("code",[s._v(".js")]),s._v(" 文件。")]),s._v(" "),t("p",[s._v("示例:")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("eslint "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--ext")]),s._v(" .js,.mpx src\neslint "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"src/**/*.{js,mpx}"')]),s._v("\n")])])]),t("h3",{attrs:{id:"如何使用自定义解析器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何使用自定义解析器"}},[s._v("#")]),s._v(" 如何使用自定义解析器？")]),s._v(" "),t("p",[s._v("如果您想使用自定义解析器，例如"),t("a",{attrs:{href:"https://www.npmjs.com/package/babel-eslint",target:"_blank",rel:"noopener noreferrer"}},[s._v("babel-eslint"),t("OutboundLink")],1),s._v("或"),t("a",{attrs:{href:"https://www.npmjs.com/package/@typescript-eslint/parser",target:"_blank",rel:"noopener noreferrer"}},[s._v("@typescript-eslint/parser"),t("OutboundLink")],1),s._v("，您必须使用 parserOptions.parser 选项而不是 parser 选项。 因为这个插件需要"),t("a",{attrs:{href:"https://github.com/mpx-ecology/mpx-eslint-parser",target:"_blank",rel:"noopener noreferrer"}},[s._v("mpx-eslint-parser"),t("OutboundLink")],1),s._v("来解析 .mpx 文件，所以如果你覆盖 parser 选项，这个插件就不起作用。")]),s._v(" "),t("div",{staticClass:"language-diff extra-class"},[t("pre",{pre:!0,attrs:{class:"language-diff"}},[t("code",[t("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[s._v(' "parser": "babel-eslint",\n')])]),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[s._v(' "parser": "mpx-eslint-parser",\n')])]),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[s._v(' "parserOptions": {\n')])]),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[s._v('     "parser": "babel-eslint",\n')])]),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[s._v('     "sourceType": "module"\n')]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[s._v(" }\n")])])])])]),t("h3",{attrs:{id:"通过-eslint-disable-禁用规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通过-eslint-disable-禁用规则"}},[s._v("#")]),s._v(" 通过"),t("code",[s._v("\x3c!-- eslint-disable --\x3e")]),s._v("禁用规则")]),s._v(" "),t("p",[s._v("您可以在"),t("code",[s._v(".mpx")]),s._v("文件的"),t("code",[s._v("<template>")]),s._v("块级别使用 "),t("code",[s._v("\x3c!-- eslint-disable --\x3e")]),s._v("类似 HTML 注释来临时禁用某个规则。")]),s._v(" "),t("p",[s._v("示例:")]),s._v(" "),t("div",{staticClass:"language-vue extra-class"},[t("pre",{pre:!0,attrs:{class:"language-vue"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("template")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- eslint-disable-next-line mpx/valid-wx-if --\x3e")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("view")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("wx:")]),s._v("if")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("view")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("template")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])])]),t("p",[s._v("如果你想在 "),t("code",[s._v("<template>")]),s._v(" 中禁用 "),t("code",[s._v("eslint-disable")]),s._v(" 功能，请禁用 "),t("RouterLink",{attrs:{to:"/rules/comment-directive.html"}},[s._v("mpx/comment-directive")]),s._v(" 规则。")],1),s._v(" "),t("h2",{attrs:{id:"编辑器集成"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编辑器集成"}},[s._v("#")]),s._v(" 💻 编辑器集成")]),s._v(" "),t("h3",{attrs:{id:"visual-studio-code"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#visual-studio-code"}},[s._v("#")]),s._v(" Visual Studio Code")]),s._v(" "),t("p",[s._v("使用 Microsoft 官方提供的 "),t("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint",target:"_blank",rel:"noopener noreferrer"}},[s._v("dbaeumer.vscode-eslint"),t("OutboundLink")],1),s._v(" 扩展。")]),s._v(" "),t("p",[s._v("您必须配置扩展的 "),t("code",[s._v("eslint.validate")]),s._v(" 选项来检查 "),t("code",[s._v(".mpx")]),s._v(" 文件，因为默认情况下扩展只针对 "),t("code",[s._v("*.js")]),s._v("文件。")]),s._v(" "),t("p",[s._v("示例 "),t("strong",[s._v(".vscode/settings.json")]),s._v(":")]),s._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"eslint.validate"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"javascript"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"javascriptreact"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mpx"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[s._v("您必须使用"),t("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=pagnkelly.mpx",target:"_blank",rel:"noopener noreferrer"}},[s._v("Mpx"),t("OutboundLink")],1),s._v(" 插件，请设置 "),t("code",[s._v('"Mpx.validation.template": false')]),s._v(" 以避免默认的 Mpx 模板验证。 查看 "),t("a",{attrs:{href:"https://github.com/mpx-ecology/vscode-mpx",target:"_blank",rel:"noopener noreferrer"}},[s._v("Mpx 文档"),t("OutboundLink")],1),s._v(" 了解更多信息。")]),s._v(" "),t("h3",{attrs:{id:"其他ide支持暂未推出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其他ide支持暂未推出"}},[s._v("#")]),s._v(" 其他ide支持暂未推出")]),s._v(" "),t("h2",{attrs:{id:"faq"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#faq"}},[s._v("#")]),s._v(" ❓ FAQ")]),s._v(" "),t("h3",{attrs:{id:"什么是-使用最新的mpx-eslint-parser-错误"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是-使用最新的mpx-eslint-parser-错误"}},[s._v("#")]),s._v(" 什么是“使用最新的mpx-eslint-parser”错误？")]),s._v(" "),t("p",[s._v("大多数 "),t("code",[s._v("eslint-plugin-mpx")]),s._v(" 规则需要 "),t("code",[s._v("mpx-eslint-parser")]),s._v(" 来检查 "),t("code",[s._v("<template>")]),s._v(" AST。")]),s._v(" "),t("p",[s._v("确保您的 "),t("strong",[s._v(".eslintrc")]),s._v(" 中有以下设置之一：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v('"extends": ["plugin:mpx/mpx-essential"]')])]),s._v(" "),t("li",[t("code",[s._v('"extends": ["plugin:mpx/base"]')])])]),s._v(" "),t("p",[s._v("如果你已经使用了另一个解析器（例如 "),t("code",[s._v('"parser": "babel-eslint"')]),s._v("），请将它移到 "),t("code",[s._v("parserOptions")]),s._v(" 中，这样它就不会与该插件配置使用的 "),t("code",[s._v("mpx-eslint-parser")]),s._v(" 冲突：")]),s._v(" "),t("div",{staticClass:"language-diff extra-class"},[t("pre",{pre:!0,attrs:{class:"language-diff"}},[t("code",[t("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[s._v(' "parser": "babel-eslint",\n')])]),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[s._v(' "parser": "mpx-eslint-parser",\n')])]),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[s._v(' "parserOptions": {\n')])]),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[s._v('     "parser": "babel-eslint",\n')])]),t("span",{pre:!0,attrs:{class:"token unchanged"}},[t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[s._v('     "ecmaVersion": 2020,\n')]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[s._v('     "sourceType": "module"\n')]),t("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),t("span",{pre:!0,attrs:{class:"token line"}},[s._v(" }\n")])])])])]),t("p",[s._v('可以看看: "'),t("a",{attrs:{href:"#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A7%A3%E6%9E%90%E5%99%A8"}},[s._v("如何使用自定义解析器？")]),s._v('" 模块.')])])}),[],!1,null,null,null);t.default=n.exports}}]);